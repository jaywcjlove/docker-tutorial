<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Docker å…¥é—¨æ•™ç¨‹</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta description="Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè€Œä¸€ä¸ªå®¹å™¨å…¶å®æ˜¯ä¸€ä¸ªè™šæ‹ŸåŒ–çš„ç‹¬ç«‹çš„ç¯å¢ƒï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ã€‚">
    <meta keywords="docker,tutorial,containers">
    <link rel="icon" href="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22%3E%3Ctext%20y=%22.9em%22%20font-size=%2290%22%3EğŸ³%3C/text%3E%3C/svg%3E" type="image/x-icon">
  </head>
  <body><script type="module">const GITHUB_CORNERS_TEMPLATE = document.createElement("template");
GITHUB_CORNERS_TEMPLATE.innerHTML = `
<style>
:host a:hover .octo-arm { animation: octocat-wave 560ms ease-in-out; }
@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}
@media (max-width:500px) {
  :host a:hover .octo-arm { animation: none; }
  :host .octo-arm { animation: octocat-wave 560ms ease-in-out; }
}
</style>
<svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true" style="position: absolute; border: 0px; top: 0px;">
  <a xlink:href="https://github.com/uiwjs/react-github-corners" target="_blank" rel="nofollow sponsored" style="fill: rgb(21, 21, 19); color: rgb(255, 255, 255);">
    <g>
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path>
      <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </g>
  </a>
</svg>
`;
export class GithubCorners extends HTMLElement {
    constructor() {
        super();
        this.right = '0';
        this.shadow = this.attachShadow({ mode: 'open' });
        this.shadow.appendChild(this.ownerDocument.importNode(GITHUB_CORNERS_TEMPLATE.content, true));
        this.update();
    }
    static get observedAttributes() {
        return ['z-index', 'target', 'height', 'width', 'href', 'color', 'fill', 'position', 'top', 'left', 'right', 'bottom', 'transform'];
    }
    setAttr(name, value) {
        const svg = this.shadow.querySelector('svg');
        if (/(href)/.test(name.toLocaleLowerCase())) {
            svg.lastElementChild.setAttribute('xlink:href', value);
        }
        else if (/(color|fill)/.test(name.toLocaleLowerCase())) {
            svg.firstElementChild.style[name] = value;
        }
        else if (/(z-index|height|width|position|top|left|right|bottom|transform)/.test(name.toLocaleLowerCase())) {
            svg.style[name] = value;
        }
        else {
            svg.setAttribute(name, value);
        }
    }
    update() {
        ;
        [...this.getAttributeNames(), 'right'].forEach((name) => {
            const value = this.getAttribute(name) || this[name] || '';
            this.setAttr(name, value);
        });
    }
    attributeChangedCallback(name, oldValue, newValue) {
        if (oldValue !== newValue) {
            this.setAttr(name, newValue);
        }
    }
}
customElements.define('github-corners', GithubCorners);</script><github-corners target="__blank" position="fixed" z-index="999" href="https://github.com/jaywcjlove/docker-tutorial"></github-corners><dark-mode permanent style="position: fixed; top: 8px; left: 10px; z-index: 999;" dark="Dark" light="Light"></dark-mode><script>const t=document;const e="_dark_mode_theme_";const s="permanent";const o="colorschemechange";const i="permanentcolorscheme";const h="light";const r="dark";const n=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){const t=this.getAttribute(e);return t===null?"":t},set(t){this.setAttribute(e,t)}})};const c=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){return this.hasAttribute(e)},set(t){if(t){this.setAttribute(e,"")}else{this.removeAttribute(e)}}})};class a extends HTMLElement{static get observedAttributes(){return["mode",h,r,s]}LOCAL_NANE=e;constructor(){super();this.t()}connectedCallback(){n(this,"mode");n(this,r);n(this,h);c(this,s);const a=localStorage.getItem(e);if(a&&[h,r].includes(a)){this.mode=a;this.permanent=true}if(this.permanent&&!a){localStorage.setItem(e,this.mode)}const l=[h,r].includes(a);if(this.permanent&&a){this.o()}else{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches){this.mode=r;this.o()}if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches){this.mode=h;this.o()}}if(!this.permanent&&!l){window.matchMedia("(prefers-color-scheme: light)").onchange=t=>{this.mode=t.matches?h:r;this.o()};window.matchMedia("(prefers-color-scheme: dark)").onchange=t=>{this.mode=t.matches?r:h;this.o()}}const d=new MutationObserver(((s,h)=>{this.mode=t.documentElement.dataset.colorMode;if(this.permanent&&l){localStorage.setItem(e,this.mode);this.i(i,{permanent:this.permanent})}this.h();this.i(o,{colorScheme:this.mode})}));d.observe(t.documentElement,{attributes:true});this.i(o,{colorScheme:this.mode});this.h()}attributeChangedCallback(t,s,o){if(t==="mode"&&s!==o&&[h,r].includes(o)){const t=localStorage.getItem(e);if(this.mode===t){this.mode=o;this.h();this.o()}else if(this.mode&&this.mode!==t){this.h();this.o()}}else if((t===h||t===r)&&s!==o){this.h()}if(t==="permanent"&&typeof this.permanent==="boolean"){this.permanent?localStorage.setItem(e,this.mode):localStorage.removeItem(e)}}o(){t.documentElement.setAttribute("data-color-mode",this.mode)}h(){this.icon.textContent=this.mode===h?"ğŸŒ’":"ğŸŒ";this.text.textContent=this.mode===h?this.getAttribute(r):this.getAttribute(h)}t(){var s=this.attachShadow({mode:"open"});this.label=t.createElement("span");this.label.setAttribute("class","wrapper");this.label.onclick=()=>{this.mode=this.mode===h?r:h;if(this.permanent){localStorage.setItem(e,this.mode)}this.o();this.h()};s.appendChild(this.label);this.icon=t.createElement("span");this.label.appendChild(this.icon);this.text=t.createElement("span");this.label.appendChild(this.text);const o=`
[data-color-mode*='dark'], [data-color-mode*='dark'] body {
  color-scheme: dark;
  --color-theme-bg: #0d1117;
  --color-theme-text: #c9d1d9;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}

[data-color-mode*='light'], [data-color-mode*='light'] body {
  color-scheme: light;
  --color-theme-bg: #fff;
  --color-theme-text: #24292f;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}`;const i="_dark_mode_style_";const n=t.getElementById(i);if(!n){var c=t.createElement("style");c.id=i;c.textContent=o;t.head.appendChild(c)}var a=t.createElement("style");a.textContent=`
    .wrapper { cursor: pointer; user-select: none; position: relative; }
    .wrapper > span + span { margin-left: .4rem; }
    `;s.appendChild(a)}i(t,e){this.dispatchEvent(new CustomEvent(t,{bubbles:true,composed:true,detail:e}))}}customElements.define("dark-mode",a);</script><script>const __TEMPLATE__ = document.createElement('template');
__TEMPLATE__.innerHTML = `
<style>

markdown-style h1:hover a.anchor .octicon-link:before,
markdown-style h2:hover a.anchor .octicon-link:before,
markdown-style h3:hover a.anchor .octicon-link:before,
markdown-style h4:hover a.anchor .octicon-link:before,
markdown-style h5:hover a.anchor .octicon-link:before,
markdown-style h6:hover a.anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
  mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
}
markdown-style[theme*='light'] { --color-prettylights-syntax-comment: #6e7781; --color-prettylights-syntax-constant: #0550ae; --color-prettylights-syntax-entity: #8250df; --color-prettylights-syntax-storage-modifier-import: #24292f; --color-prettylights-syntax-entity-tag: #116329; --color-prettylights-syntax-keyword: #cf222e; --color-prettylights-syntax-string: #0a3069; --color-prettylights-syntax-variable: #953800; --color-prettylights-syntax-brackethighlighter-unmatched: #82071e; --color-prettylights-syntax-invalid-illegal-text: #f6f8fa; --color-prettylights-syntax-invalid-illegal-bg: #82071e; --color-prettylights-syntax-carriage-return-text: #f6f8fa; --color-prettylights-syntax-carriage-return-bg: #cf222e; --color-prettylights-syntax-string-regexp: #116329; --color-prettylights-syntax-markup-list: #3b2300; --color-prettylights-syntax-markup-heading: #0550ae; --color-prettylights-syntax-markup-italic: #24292f; --color-prettylights-syntax-markup-bold: #24292f; --color-prettylights-syntax-markup-deleted-text: #82071e; --color-prettylights-syntax-markup-deleted-bg: #FFEBE9; --color-prettylights-syntax-markup-inserted-text: #116329; --color-prettylights-syntax-markup-inserted-bg: #dafbe1; --color-prettylights-syntax-markup-changed-text: #953800; --color-prettylights-syntax-markup-changed-bg: #ffd8b5; --color-prettylights-syntax-markup-ignored-text: #eaeef2; --color-prettylights-syntax-markup-ignored-bg: #0550ae; --color-prettylights-syntax-meta-diff-range: #8250df; --color-prettylights-syntax-brackethighlighter-angle: #57606a; --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f; --color-prettylights-syntax-constant-other-reference-link: #0a3069; --color-fg-default: #24292f; --color-fg-muted: #57606a; --color-fg-subtle: #6e7781; --color-canvas-default: #ffffff; --color-canvas-subtle: #f6f8fa; --color-border-default: #d0d7de; --color-border-muted: hsla(210,18%,87%,1); --color-neutral-muted: rgba(175,184,193,0.2); --color-accent-fg: #0969da; --color-accent-emphasis: #0969da; --color-attention-subtle: #fff8c5; --color-danger-fg: #cf222e; } markdown-style[theme*='dark'] { --color-prettylights-syntax-comment: #8b949e; --color-prettylights-syntax-constant: #79c0ff; --color-prettylights-syntax-entity: #d2a8ff; --color-prettylights-syntax-storage-modifier-import: #c9d1d9; --color-prettylights-syntax-entity-tag: #7ee787; --color-prettylights-syntax-keyword: #ff7b72; --color-prettylights-syntax-string: #a5d6ff; --color-prettylights-syntax-variable: #ffa657; --color-prettylights-syntax-brackethighlighter-unmatched: #f85149; --color-prettylights-syntax-invalid-illegal-text: #f0f6fc; --color-prettylights-syntax-invalid-illegal-bg: #8e1519; --color-prettylights-syntax-carriage-return-text: #f0f6fc; --color-prettylights-syntax-carriage-return-bg: #b62324; --color-prettylights-syntax-string-regexp: #7ee787; --color-prettylights-syntax-markup-list: #f2cc60; --color-prettylights-syntax-markup-heading: #1f6feb; --color-prettylights-syntax-markup-italic: #c9d1d9; --color-prettylights-syntax-markup-bold: #c9d1d9; --color-prettylights-syntax-markup-deleted-text: #ffdcd7; --color-prettylights-syntax-markup-deleted-bg: #67060c; --color-prettylights-syntax-markup-inserted-text: #aff5b4; --color-prettylights-syntax-markup-inserted-bg: #033a16; --color-prettylights-syntax-markup-changed-text: #ffdfb6; --color-prettylights-syntax-markup-changed-bg: #5a1e02; --color-prettylights-syntax-markup-ignored-text: #c9d1d9; --color-prettylights-syntax-markup-ignored-bg: #1158c7; --color-prettylights-syntax-meta-diff-range: #d2a8ff; --color-prettylights-syntax-brackethighlighter-angle: #8b949e; --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58; --color-prettylights-syntax-constant-other-reference-link: #a5d6ff; --color-fg-default: #c9d1d9; --color-fg-muted: #8b949e; --color-fg-subtle: #484f58; --color-canvas-default: #0d1117; --color-canvas-subtle: #161b22; --color-border-default: #30363d; --color-border-muted: #21262d; --color-neutral-muted: rgba(110,118,129,0.4); --color-accent-fg: #58a6ff; --color-accent-emphasis: #1f6feb; --color-attention-subtle: rgba(187,128,9,0.15); --color-danger-fg: #f85149; } markdown-style { display: block; -webkit-text-size-adjust: 100%; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"; font-size: 16px; line-height: 1.5; word-wrap: break-word; color: var(--color-fg-default); background-color: var(--color-canvas-default); } markdown-style details, markdown-style figcaption, markdown-style figure { display: block; } markdown-style summary { display: list-item; } markdown-style [hidden] { display: none !important; } markdown-style a { background-color: transparent; color: var(--color-accent-fg); text-decoration: none; } markdown-style a:active, markdown-style a:hover { outline-width: 0; } markdown-style abbr[title] { border-bottom: none; text-decoration: underline dotted; } markdown-style b, markdown-style strong { font-weight: 600; } markdown-style dfn { font-style: italic; } markdown-style h1 { margin: .67em 0; font-weight: 600; padding-bottom: .3em; font-size: 2em; border-bottom: 1px solid var(--color-border-muted); } markdown-style mark { background-color: var(--color-attention-subtle); color: var(--color-text-primary); } markdown-style small { font-size: 90%; } markdown-style sub, markdown-style sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; } markdown-style sub { bottom: -0.25em; } markdown-style sup { top: -0.5em; } markdown-style img { border-style: none; max-width: 100%; box-sizing: content-box; background-color: var(--color-canvas-default); } markdown-style code, markdown-style kbd, markdown-style pre, markdown-style samp { font-family: monospace,monospace; font-size: 1em; } markdown-style figure { margin: 1em 40px; } markdown-style hr { box-sizing: content-box; overflow: hidden; background: transparent; border-bottom: 1px solid var(--color-border-muted); height: .25em; padding: 0; margin: 24px 0; background-color: var(--color-border-default); border: 0; } markdown-style input { font: inherit; margin: 0; overflow: visible; font-family: inherit; font-size: inherit; line-height: inherit; } markdown-style [type=button], markdown-style [type=reset], markdown-style [type=submit] { -webkit-appearance: button; } markdown-style [type=button]::-moz-focus-inner, markdown-style [type=reset]::-moz-focus-inner, markdown-style [type=submit]::-moz-focus-inner { border-style: none; padding: 0; } markdown-style [type=button]:-moz-focusring, markdown-style [type=reset]:-moz-focusring, markdown-style [type=submit]:-moz-focusring { outline: 1px dotted ButtonText; } markdown-style [type=checkbox], markdown-style [type=radio] { box-sizing: border-box; padding: 0; } markdown-style [type=number]::-webkit-inner-spin-button, markdown-style [type=number]::-webkit-outer-spin-button { height: auto; } markdown-style [type=search] { -webkit-appearance: textfield; outline-offset: -2px; } markdown-style [type=search]::-webkit-search-cancel-button, markdown-style [type=search]::-webkit-search-decoration { -webkit-appearance: none; } markdown-style ::-webkit-input-placeholder { color: inherit; opacity: .54; } markdown-style ::-webkit-file-upload-button { -webkit-appearance: button; font: inherit; } markdown-style a:hover { text-decoration: underline; } markdown-style hr::before { display: table; content: ""; } markdown-style hr::after { display: table; clear: both; content: ""; } markdown-style table { border-spacing: 0; border-collapse: collapse; display: block; width: max-content; max-width: 100%; overflow: auto; } markdown-style td, markdown-style th { padding: 0; } markdown-style details summary { cursor: pointer; } markdown-style details:not([open])>*:not(summary) { display: none !important; } markdown-style kbd { display: inline-block; padding: 3px 5px; font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; line-height: 10px; color: var(--color-fg-default); vertical-align: middle; background-color: var(--color-canvas-subtle); border: solid 1px var(--color-neutral-muted); border-bottom-color: var(--color-neutral-muted); border-radius: 6px; box-shadow: inset 0 -1px 0 var(--color-neutral-muted); } markdown-style h1, markdown-style h2, markdown-style h3, markdown-style h4, markdown-style h5, markdown-style h6 { margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; } markdown-style h2 { font-weight: 600; padding-bottom: .3em; font-size: 1.5em; border-bottom: 1px solid var(--color-border-muted); } markdown-style h3 { font-weight: 600; font-size: 1.25em; } markdown-style h4 { font-weight: 600; font-size: 1em; } markdown-style h5 { font-weight: 600; font-size: .875em; } markdown-style h6 { font-weight: 600; font-size: .85em; color: var(--color-fg-muted); } markdown-style p { margin-top: 0; margin-bottom: 10px; } markdown-style blockquote { margin: 0; padding: 0 1em; color: var(--color-fg-muted); border-left: .25em solid var(--color-border-default); } markdown-style ul, markdown-style ol { margin-top: 0; margin-bottom: 0; padding-left: 2em; } markdown-style ol ol, markdown-style ul ol { list-style-type: lower-roman; } markdown-style ul ul ol, markdown-style ul ol ol, markdown-style ol ul ol, markdown-style ol ol ol { list-style-type: lower-alpha; } markdown-style dd { margin-left: 0; } markdown-style tt, markdown-style code { font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; } markdown-style pre { margin-top: 0; margin-bottom: 0; font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; word-wrap: normal; } markdown-style .octicon { display: inline-block; overflow: visible !important; vertical-align: text-bottom; fill: currentColor; } markdown-style ::placeholder { color: var(--color-fg-subtle); opacity: 1; } markdown-style input::-webkit-outer-spin-button, markdown-style input::-webkit-inner-spin-button { margin: 0; -webkit-appearance: none; appearance: none; }
markdown-style .token.comment, markdown-style .token.prolog, markdown-style .token.doctype, markdown-style .token.cdata { color: var(--color-prettylights-syntax-comment); } markdown-style .token.namespace { opacity: 0.7; } markdown-style .token.tag, markdown-style .token.selector, markdown-style .token.constant, markdown-style .token.symbol, markdown-style .token.deleted { color: var(--color-prettylights-syntax-entity-tag); } markdown-style .token.maybe-class-name { color: var(--color-prettylights-syntax-variable); } markdown-style .token.property-access, markdown-style .token.operator, markdown-style .token.boolean, markdown-style .token.number, markdown-style .token.selector markdown-style .token.class, markdown-style .token.attr-name, markdown-style .token.string, markdown-style .token.char, markdown-style .token.builtin { color: var(--color-prettylights-syntax-constant); } markdown-style .token.deleted { color: var(--color-prettylights-syntax-markup-deleted-text); } markdown-style .token.property { color: var(--color-prettylights-syntax-constant); } markdown-style .token.punctuation { color: var(--color-prettylights-syntax-markup-bold); } markdown-style .token.function { color: var(--color-prettylights-syntax-entity); } markdown-style .code-line .token.deleted { background-color: var(--color-prettylights-syntax-markup-deleted-bg); } markdown-style .token.inserted { color: var(--color-prettylights-syntax-markup-inserted-text); } markdown-style .code-line .token.inserted { background-color: var(--color-prettylights-syntax-markup-inserted-bg); } markdown-style .token.variable { color: var(--color-prettylights-syntax-constant); } markdown-style .token.entity, markdown-style .token.url, .language-css markdown-style .token.string, .style markdown-style .token.string { color: var(--color-prettylights-syntax-string); } markdown-style .token.color, markdown-style .token.atrule, markdown-style .token.attr-value, markdown-style .token.function, markdown-style .token.class-name { color: var(--color-prettylights-syntax-string); } markdown-style .token.rule, markdown-style .token.regex, markdown-style .token.important, markdown-style .token.keyword { color: var(--color-prettylights-syntax-keyword); } markdown-style .token.coord { color: var(--color-prettylights-syntax-meta-diff-range); } markdown-style .token.important, markdown-style .token.bold { font-weight: bold; } markdown-style .token.italic { font-style: italic; } markdown-style .token.entity { cursor: help; } markdown-style [data-catalyst] { display: block; }
markdown-style g-emoji { font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; font-size: 1em; font-style: normal !important; font-weight: 400; line-height: 1; vertical-align: -0.075em; } markdown-style g-emoji img { width: 1em; height: 1em; } markdown-style::before { display: table; content: ""; } markdown-style::after { display: table; clear: both; content: ""; } markdown-style>*:first-child { margin-top: 0 !important; } markdown-style>*:last-child { margin-bottom: 0 !important; } markdown-style a:not([href]) { color: inherit; text-decoration: none; } markdown-style .absent { color: var(--color-danger-fg); } markdown-style .anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1; } markdown-style .anchor:focus { outline: none; } markdown-style p, markdown-style blockquote, markdown-style ul, markdown-style ol, markdown-style dl, markdown-style table, markdown-style pre, markdown-style details { margin-top: 0; margin-bottom: 16px; } markdown-style blockquote>:first-child { margin-top: 0; } markdown-style blockquote>:last-child { margin-bottom: 0; } markdown-style sup>a::before { content: "["; } markdown-style sup>a::after { content: "]"; } markdown-style h1 .octicon-link, markdown-style h2 .octicon-link, markdown-style h3 .octicon-link, markdown-style h4 .octicon-link, markdown-style h5 .octicon-link, markdown-style h6 .octicon-link { color: var(--color-fg-default); vertical-align: middle; visibility: hidden; } markdown-style h1:hover .anchor, markdown-style h2:hover .anchor, markdown-style h3:hover .anchor, markdown-style h4:hover .anchor, markdown-style h5:hover .anchor, markdown-style h6:hover .anchor { text-decoration: none; } markdown-style h1:hover .anchor .octicon-link, markdown-style h2:hover .anchor .octicon-link, markdown-style h3:hover .anchor .octicon-link, markdown-style h4:hover .anchor .octicon-link, markdown-style h5:hover .anchor .octicon-link, markdown-style h6:hover .anchor .octicon-link { visibility: visible; } markdown-style h1 tt, markdown-style h1 code, markdown-style h2 tt, markdown-style h2 code, markdown-style h3 tt, markdown-style h3 code, markdown-style h4 tt, markdown-style h4 code, markdown-style h5 tt, markdown-style h5 code, markdown-style h6 tt, markdown-style h6 code { padding: 0 .2em; font-size: inherit; } markdown-style ul.no-list, markdown-style ol.no-list { padding: 0; list-style-type: none; } markdown-style ol[type="1"] { list-style-type: decimal; } markdown-style ol[type=a] { list-style-type: lower-alpha; } markdown-style ol[type=i] { list-style-type: lower-roman; } markdown-style div>ol:not([type]) { list-style-type: decimal; } markdown-style ul ul, markdown-style ul ol, markdown-style ol ol, markdown-style ol ul { margin-top: 0; margin-bottom: 0; } markdown-style li>p { margin-top: 16px; } markdown-style li+li { margin-top: .25em; } markdown-style dl { padding: 0; } markdown-style dl dt { padding: 0; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: 600; } markdown-style dl dd { padding: 0 16px; margin-bottom: 16px; } markdown-style table th { font-weight: 600; } markdown-style table th, markdown-style table td { padding: 6px 13px; border: 1px solid var(--color-border-default); } markdown-style table tr { background-color: var(--color-canvas-default); border-top: 1px solid var(--color-border-muted); } markdown-style table tr:nth-child(2n) { background-color: var(--color-canvas-subtle); } markdown-style table img { background-color: transparent; } markdown-style img[align=right] { padding-left: 20px; } markdown-style img[align=left] { padding-right: 20px; } markdown-style .emoji { max-width: none; vertical-align: text-top; background-color: transparent; } markdown-style span.frame { display: block; overflow: hidden; } markdown-style span.frame>span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0 0; overflow: hidden; border: 1px solid var(--color-border-default); } markdown-style span.frame span img { display: block; float: left; } markdown-style span.frame span span { display: block; padding: 5px 0 0; clear: both; color: var(--color-fg-default); } markdown-style span.align-center { display: block; overflow: hidden; clear: both; } markdown-style span.align-center>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: center; } markdown-style span.align-center span img { margin: 0 auto; text-align: center; } markdown-style span.align-right { display: block; overflow: hidden; clear: both; } markdown-style span.align-right>span { display: block; margin: 13px 0 0; overflow: hidden; text-align: right; } markdown-style span.align-right span img { margin: 0; text-align: right; } markdown-style span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; } markdown-style span.float-left span { margin: 13px 0 0; } markdown-style span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; } markdown-style span.float-right>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: right; } markdown-style code, markdown-style tt { padding: .2em .4em; margin: 0; font-size: 85%; background-color: var(--color-neutral-muted); border-radius: 6px; } markdown-style code br, markdown-style tt br { display: none; } markdown-style del code { text-decoration: inherit; } markdown-style pre code { font-size: 100%; } markdown-style pre>code { padding: 0; margin: 0; word-break: normal; white-space: pre; background: transparent; border: 0; } markdown-style .highlight { margin-bottom: 16px; } markdown-style .highlight pre { margin-bottom: 0; word-break: normal; } markdown-style .highlight pre, markdown-style pre { position: relative; padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: var(--color-canvas-subtle); border-radius: 6px; } markdown-style pre code, markdown-style pre tt { display: inline; max-width: auto; padding: 0; margin: 0; overflow: visible; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0; } markdown-style .csv-data td, markdown-style .csv-data th { padding: 5px; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; } markdown-style .csv-data .blob-num { padding: 10px 8px 9px; text-align: right; background: var(--color-canvas-default); border: 0; } markdown-style .csv-data tr { border-top: 0; } markdown-style .csv-data th { font-weight: 600; background: var(--color-canvas-subtle); border-top: 0; } markdown-style .footnotes { font-size: 12px; color: var(--color-fg-muted); border-top: 1px solid var(--color-border-default); } markdown-style .footnotes ol { padding-left: 16px; } markdown-style .footnotes li { position: relative; } markdown-style .footnotes li:target::before { position: absolute; top: -8px; right: -8px; bottom: -8px; left: -24px; pointer-events: none; content: ""; border: 2px solid var(--color-accent-emphasis); border-radius: 6px; } markdown-style .footnotes li:target { color: var(--color-fg-default); } markdown-style .footnotes .data-footnote-backref g-emoji { font-family: monospace; } markdown-style .task-list-item { list-style-type: none; } markdown-style .task-list-item label { font-weight: 400; } markdown-style .task-list-item.enabled label { cursor: pointer; } markdown-style .task-list-item+.task-list-item { margin-top: 3px; } markdown-style .task-list-item .handle { display: none; } markdown-style .task-list-item-checkbox, markdown-style input[type="checkbox"] { margin: 0 .2em .25em -1.6em; vertical-align: middle; } markdown-style .contains-task-list:dir(rtl) .task-list-item-checkbox, markdown-style .contains-task-list:dir(rtl) input[type="checkbox"] { margin: 0 -1.6em .25em .2em; } markdown-style ::-webkit-calendar-picker-indicator { filter: invert(50%); }
</style>
<slot></slot>
`;
class MarkdownStyle extends HTMLElement {
    constructor() {
        super();
        this.initTheme = this.getAttribute('theme');
        this.shadow = this.attachShadow({ mode: 'open' });
        this.shadow.appendChild(__TEMPLATE__.content.cloneNode(true));
        this.setTheme();
        const style = Array.prototype.slice
            .call(this.shadow.children)
            .find((item) => item.tagName === 'STYLE');
        if (style) {
            const id = '__MARKDOWN_STYLE__';
            const findStyle = document.getElementById(id);
            if (!findStyle) {
                style.id = id;
                document.head.append(style);
            }
        }
    }
    setTheme() {
        if (!this.initTheme) {
            const { colorMode } = document.documentElement.dataset;
            this.theme = colorMode;
            if (this.theme === 'undefined') {
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    this.theme = 'dark';
                }
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
                    this.theme = 'light';
                }
            }
        }
    }
    connectedCallback() {
        this.installStringReflection('theme');
        if (!this.initTheme) {
            this.setTheme();
            const observer = new MutationObserver((mutationsList, observer) => {
                this.theme = document.documentElement.dataset.colorMode;
                this.setTheme();
            });
            // Start observing the target node with the above configuration
            observer.observe(document.documentElement, { attributes: true });
            window.matchMedia('(prefers-color-scheme: light)').onchange = (event) => {
                this.theme = event.matches ? 'light' : 'dark';
                this.setTheme();
            };
            window.matchMedia('(prefers-color-scheme: dark)').onchange = (event) => {
                this.theme = event.matches ? 'dark' : 'light';
                this.setTheme();
            };
        }
    }
    /**
     * See https://html.spec.whatwg.org/multipage/common-dom-interfaces.html
     * #reflecting-content-attributes-in-idl-attributes.
     */
    installStringReflection(attrName, propName = attrName) {
        Object.defineProperty(this, propName, {
            enumerable: true,
            get() {
                const value = this.getAttribute(attrName);
                return value === null ? '' : value;
            },
            set(v) {
                this.setAttribute(attrName, v);
            },
        });
    }
}
customElements.define('markdown-style', MarkdownStyle);
</script><markdown-style style="max-width: 960px; margin: 0 auto 60px auto; padding: 8px" class="markdown-body">
    <p align="center">
      <img width="130" align="center" src="img/logo.svg">
    </p>
    <h1 align="center" id="dockerå…¥é—¨æ•™ç¨‹"><a class="anchor" aria-hidden="true" tabindex="-1" href="#dockerå…¥é—¨æ•™ç¨‹"><span class="octicon octicon-link"></span></a>Dockerå…¥é—¨æ•™ç¨‹</h1>
    <p>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè€Œä¸€ä¸ª<ruby>å®¹å™¨<rt>containers</rt></ruby>å…¶å®æ˜¯ä¸€ä¸ªè™šæ‹ŸåŒ–çš„ç‹¬ç«‹çš„ç¯å¢ƒï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ã€‚</p>
    <ul>
      <li>Docker çš„å±€é™æ€§ä¹‹ä¸€ï¼Œå®ƒåªèƒ½ç”¨åœ¨ 64 ä½çš„æ“ä½œç³»ç»Ÿä¸Šã€‚</li>
    </ul>
    <h1 id="ç›®å½•"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ç›®å½•"><span class="octicon octicon-link"></span></a>ç›®å½•</h1><!-- TOC -->
    <ul>
      <li><a href="#%E6%96%B0%E7%89%88%E6%9C%AC%E5%AE%89%E8%A3%85">æ–°ç‰ˆæœ¬å®‰è£…</a></li>
      <li><a href="#%E6%97%A7%E7%89%88%E6%9C%AC%E5%AE%89%E8%A3%85">æ—§ç‰ˆæœ¬å®‰è£…</a></li>
      <li><a href="#%E5%91%BD%E4%BB%A4%E4%BB%8B%E7%BB%8D">å‘½ä»¤ä»‹ç»</a></li>
      <li><a href="#%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86">æœåŠ¡ç®¡ç†</a></li>
      <li><a href="#%E9%95%9C%E5%83%8F%E7%AE%A1%E7%90%86">é•œåƒç®¡ç†</a>
        <ul>
          <li><a href="#%E9%80%9A%E8%BF%87%E5%AE%B9%E5%99%A8%E5%88%9B%E5%BB%BA%E9%95%9C%E5%83%8F">é€šè¿‡å®¹å™¨åˆ›å»ºé•œåƒ</a></li>
          <li><a href="#%E9%80%9A%E8%BF%87dockerfile%E5%88%9B%E5%BB%BA%E9%95%9C%E5%83%8F">é€šè¿‡Dockerfileåˆ›å»ºé•œåƒ</a></li>
          <li><a href="#%E5%8F%91%E5%B8%83%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F">å‘å¸ƒè‡ªå·±çš„é•œåƒ</a></li>
          <li><a href="#%E9%95%9C%E5%83%8F%E4%B8%AD%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6">é•œåƒä¸­å®‰è£…è½¯ä»¶</a></li>
        </ul>
      </li>
      <li><a href="#%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86">å®¹å™¨ç®¡ç†</a>
        <ul>
          <li><a href="#%E5%AE%B9%E5%99%A8%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86">å®¹å™¨æœåŠ¡ç®¡ç†</a></li>
          <li><a href="#%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8">è¿›å…¥å®¹å™¨</a></li>
        </ul>
      </li>
      <li><a href="#%E6%96%87%E4%BB%B6%E6%8B%B7%E8%B4%9D">æ–‡ä»¶æ‹·è´</a></li>
      <li><a href="#docker%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E6%90%AD%E5%BB%BA">Dockerç§æœ‰ä»“åº“æ­å»º</a>
        <ul>
          <li><a href="#registry"><code>registry</code></a></li>
          <li><a href="#harbor"><code>Harbor</code></a></li>
        </ul>
      </li>
      <li><a href="#%E4%BD%BF%E7%94%A8docker%E5%AE%9E%E6%88%98">ä½¿ç”¨ Docker å®æˆ˜</a></li>
      <li><a href="#docker-rest-api">Docker REST API</a>
        <ul>
          <li><a href="#nginx"><code>Nginx</code></a></li>
          <li><a href="#mysql"><code>MySQL</code></a></li>
          <li><a href="#postgres"><code>PostgreSQL</code></a></li>
          <li><a href="#redis"><code>Redis</code></a></li>
          <li><a href="#elasticsearch"><code>Elasticsearch</code></a></li>
          <li><a href="#gitlab"><code>Gitlab</code></a></li>
          <li><a href="#rocketchat"><code>Rocket.Chat</code></a></li>
          <li><a href="#rancher"><code>Rancher</code></a></li>
          <li><a href="#portainer"><code>Portainer</code></a></li>
          <li><a href="#sourcegraph"><code>Sourcegraph</code></a></li>
          <li><a href="#Mattermost"><code>Mattermost</code></a></li>
          <li><a href="#humpback"><code>Humpback</code></a></li>
          <li><a href="#seafile"><code>Seafile</code></a></li>
          <li><a href="#nps"><code>NPS</code></a></li>
          <li><a href="#%E6%9B%B4%E5%A4%9A">æ›´å¤š</a></li>
        </ul>
      </li>
      <li><a href="#%E5%8D%B8%E8%BD%BD%E6%97%A7%E7%9A%84%E7%89%88%E6%9C%AC">å¸è½½æ—§çš„ç‰ˆæœ¬</a></li>
      <li><a href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86">é”™è¯¯å¤„ç†</a></li>
      <li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a>
        <ul>
          <li><a href="#%E5%AE%98%E6%96%B9%E8%8B%B1%E6%96%87%E8%B5%84%E6%BA%90">å®˜æ–¹è‹±æ–‡èµ„æº</a></li>
          <li><a href="#%E4%B8%AD%E6%96%87%E8%B5%84%E6%BA%90">ä¸­æ–‡èµ„æº</a></li>
          <li><a href="#%E5%85%B6%E5%AE%83%E8%B5%84%E6%BA%90">å…¶å®ƒèµ„æº</a></li>
        </ul>
      </li>
    </ul><!-- /TOC -->
    <p>Docker ä» <code>1.13</code> ç‰ˆæœ¬ä¹‹åé‡‡ç”¨æ—¶é—´çº¿çš„æ–¹å¼ä½œä¸ºç‰ˆæœ¬å·ï¼Œåˆ†ä¸ºç¤¾åŒºç‰ˆ <code>CE</code> å’Œä¼ä¸šç‰ˆ <code>EE</code>ï¼Œç¤¾åŒºç‰ˆæ˜¯å…è´¹æä¾›ç»™ä¸ªäººå¼€å‘è€…å’Œå°å‹å›¢ä½“ä½¿ç”¨çš„ï¼Œä¼ä¸šç‰ˆä¼šæä¾›é¢å¤–çš„æ”¶è´¹æœåŠ¡ï¼Œæ¯”å¦‚ç»è¿‡å®˜æ–¹æµ‹è¯•è®¤è¯è¿‡çš„åŸºç¡€è®¾æ–½ã€å®¹å™¨ã€æ’ä»¶ç­‰ã€‚</p>
    <p>ç¤¾åŒºç‰ˆæŒ‰ç…§ <code>stable</code> å’Œ <code>edge</code> ä¸¤ç§æ–¹å¼å‘å¸ƒï¼Œæ¯ä¸ªå­£åº¦æ›´æ–° <code>stable</code> ç‰ˆæœ¬ï¼Œå¦‚ <code>17.06</code>ï¼Œ<code>17.09</code>ï¼›æ¯ä¸ªæœˆä»½æ›´æ–° <code>edge</code> ç‰ˆæœ¬ï¼Œå¦‚<code>17.09</code>ï¼Œ<code>17.10</code>ã€‚</p>
    <p>ä¸‹é¢æ•™ç¨‹è¿è¡Œåœ¨ <code>Centos</code> ä¸­</p>
    <h2 id="æ–°ç‰ˆæœ¬å®‰è£…"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ–°ç‰ˆæœ¬å®‰è£…"><span class="octicon octicon-link"></span></a>æ–°ç‰ˆæœ¬å®‰è£…</h2>
    <p>Docker å®˜æ–¹çš„å®‰è£…æ•™ç¨‹ï¼Œ<a href="https://docs.docker.com/install/linux/docker-ce/centos/">åœ¨è¿™é‡Œ</a>ã€‚</p>
    <p>å®‰è£…ä¸€äº›å¿…è¦çš„ç³»ç»Ÿå·¥å…·</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2
</span></code><div onclick="copied(this)" data-code="sudo yum install -y yum-utils device-mapper-persistent-data lvm2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>æ·»åŠ è½¯ä»¶æºä¿¡æ¯</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># docker å®˜æ–¹æº</span>
</span><span class="code-line"><span class="token function">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
</span><span class="code-line"><span class="token comment"># é˜¿é‡Œäº‘æº</span>
</span><span class="code-line"><span class="token function">sudo</span> yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</span></code><div onclick="copied(this)" data-code="# docker å®˜æ–¹æº
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
# é˜¿é‡Œäº‘æº
sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>å¯é€‰ï¼šå¯ç”¨ <code>edge</code> å’Œ <code>test</code> å­˜å‚¨åº“ã€‚ è¿™äº›å­˜å‚¨åº“åŒ…å«åœ¨ä¸Šé¢çš„ <code>docker.repo</code> æ–‡ä»¶ä¸­ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹å¤„äºç¦ç”¨çŠ¶æ€ã€‚æ‚¨å¯ä»¥å°†å®ƒä»¬ä¸ç¨³å®šå­˜å‚¨åº“ä¸€èµ·å¯ç”¨ã€‚</p>
    <pre><code class="code-highlight"><span class="code-line">$ sudo yum-config-manager --enable docker-ce-edge
</span><span class="code-line">$ sudo yum-config-manager --enable docker-ce-test
</span></code><div onclick="copied(this)" data-code="$ sudo yum-config-manager --enable docker-ce-edge
$ sudo yum-config-manager --enable docker-ce-test
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>--disable</code> æ ‡å¿—è¿è¡Œ <code>yum-config-manager</code> å‘½ä»¤æ¥ç¦ç”¨è¾¹ç¼˜æˆ–æµ‹è¯•å­˜å‚¨åº“ã€‚ è¦é‡æ–°å¯ç”¨å®ƒï¼Œè¯·ä½¿ç”¨ <code>--enable</code> æ ‡å¿—ã€‚ ä»¥ä¸‹å‘½ä»¤ç¦ç”¨ <code>edge</code> å­˜å‚¨åº“:</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <span class="token function">sudo</span> yum-config-manager --disable docker-ce-edge
</span><span class="code-line">$ <span class="token function">sudo</span> yum-config-manager --disable docker-ce-test
</span></code><div onclick="copied(this)" data-code="$ sudo yum-config-manager --disable docker-ce-edge
$ sudo yum-config-manager --disable docker-ce-test
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>å®‰è£… Docker-ce</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># å®‰è£…å‰å¯ä»¥å…ˆæ›´æ–° yum ç¼“å­˜ï¼š</span>
</span><span class="code-line"><span class="token function">sudo</span> yum makecache fast
</span><span class="code-line"><span class="token comment"># å®‰è£… Docker-ce</span>
</span><span class="code-line"><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce
</span></code><div onclick="copied(this)" data-code="# å®‰è£…å‰å¯ä»¥å…ˆæ›´æ–° yum ç¼“å­˜ï¼š
sudo yum makecache fast
# å®‰è£… Docker-ce
sudo yum install docker-ce
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>å¦‚æœä½ æƒ³å®‰è£…ç‰¹å®š <code>docker-ce</code> ç‰ˆæœ¬ï¼Œå…ˆåˆ—å‡º repo ä¸­å¯ç”¨ç‰ˆæœ¬ï¼Œç„¶åé€‰æ‹©å®‰è£…</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ yum list docker-ce --showduplicates <span class="token operator">|</span> <span class="token function">sort</span> -r
</span><span class="code-line"><span class="token comment"># docker-ce.x86_64       18.06.1.ce-3.el7              docker-ce-stable</span>
</span><span class="code-line"><span class="token comment"># docker-ce.x86_64       18.06.1.ce-3.el7              @docker-ce-stable</span>
</span><span class="code-line"><span class="token comment"># docker-ce.x86_64       18.06.0.ce-3.el7              docker-ce-stable</span>
</span><span class="code-line"><span class="token comment"># docker-ce.x86_64       18.03.1.ce-1.el7.centos       docker-ce-stable</span>
</span><span class="code-line"><span class="token comment"># docker-ce.x86_64       18.03.0.ce-1.el7.centos       docker-ce-stable</span>
</span><span class="code-line"><span class="token comment"># docker-ce.x86_64       17.12.1.ce-1.el7.centos       docker-ce-stable</span>
</span><span class="code-line"><span class="token comment"># é€‰æ‹©ç‰ˆæœ¬å®‰è£…</span>
</span><span class="code-line">$ <span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce-<span class="token operator">&#x3C;</span>VERSION STRING<span class="token operator">></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># é€‰æ‹©å®‰è£… docker-ce-18.06.1.ce</span>
</span><span class="code-line">$ <span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce-18.06.1.ce
</span></code><div onclick="copied(this)" data-code="$ yum list docker-ce --showduplicates | sort -r
# docker-ce.x86_64       18.06.1.ce-3.el7              docker-ce-stable
# docker-ce.x86_64       18.06.1.ce-3.el7              @docker-ce-stable
# docker-ce.x86_64       18.06.0.ce-3.el7              docker-ce-stable
# docker-ce.x86_64       18.03.1.ce-1.el7.centos       docker-ce-stable
# docker-ce.x86_64       18.03.0.ce-1.el7.centos       docker-ce-stable
# docker-ce.x86_64       17.12.1.ce-1.el7.centos       docker-ce-stable
# é€‰æ‹©ç‰ˆæœ¬å®‰è£…
$ sudo yum install docker-ce-<VERSION STRING>

# é€‰æ‹©å®‰è£… docker-ce-18.06.1.ce
$ sudo yum install docker-ce-18.06.1.ce
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>å¯åŠ¨ Docker åå°æœåŠ¡</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</span></code><div onclick="copied(this)" data-code="$ sudo systemctl start docker
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>é€šè¿‡è¿è¡Œ <code>hello-world</code> é•œåƒï¼ŒéªŒè¯æ˜¯å¦æ­£ç¡®å®‰è£…äº† <code>docker</code>ã€‚</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <span class="token function">docker</span> run hello-world
</span></code><div onclick="copied(this)" data-code="$ docker run hello-world
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="æ—§ç‰ˆæœ¬å®‰è£…"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ—§ç‰ˆæœ¬å®‰è£…"><span class="octicon octicon-link"></span></a>æ—§ç‰ˆæœ¬å®‰è£…</h2>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">yum <span class="token function">install</span> <span class="token function">docker</span>        <span class="token comment"># CentOS ä¸­å®‰è£…</span>
</span><span class="code-line"><span class="token function">apt-get</span> <span class="token function">install</span> docker-ce <span class="token comment"># Ubuntu ä¸­å®‰è£…</span>
</span><span class="code-line">pacman -S <span class="token function">docker</span>          <span class="token comment"># Arch ä¸­å®‰è£…</span>
</span><span class="code-line">emerge --ask <span class="token function">docker</span>       <span class="token comment"># Gentoo ä¸­å®‰è£…</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">#=====================</span>
</span><span class="code-line"><span class="token function">docker</span> version      <span class="token comment"># é€šè¿‡æŸ¥çœ‹ç‰ˆæœ¬ï¼Œæ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸ</span>
</span><span class="code-line"><span class="token comment"># Client:</span>
</span><span class="code-line"><span class="token comment">#  Version:         1.12.6</span>
</span><span class="code-line"><span class="token comment">#  API version:     1.24</span>
</span><span class="code-line"><span class="token comment">#  Package version: docker-1.12.6-55.gitc4618fb.el7.centos.x86_64</span>
</span><span class="code-line"><span class="token comment">#  Go version:      go1.8.3</span>
</span><span class="code-line"><span class="token comment">#  Git commit:      c4618fb/1.12.6</span>
</span><span class="code-line"><span class="token comment">#  Built:           Thu Sep 21 22:33:52 2017</span>
</span><span class="code-line"><span class="token comment">#  OS/Arch:         linux/amd64</span>
</span><span class="code-line"><span class="token comment"># </span>
</span><span class="code-line"><span class="token comment"># Server:</span>
</span><span class="code-line"><span class="token comment">#  Version:         1.12.6</span>
</span><span class="code-line"><span class="token comment">#  API version:     1.24</span>
</span><span class="code-line"><span class="token comment">#  Package version: docker-1.12.6-55.gitc4618fb.el7.centos.x86_64</span>
</span><span class="code-line"><span class="token comment">#  Go version:      go1.8.3</span>
</span><span class="code-line"><span class="token comment">#  Git commit:      c4618fb/1.12.6</span>
</span><span class="code-line"><span class="token comment">#  Built:           Thu Sep 21 22:33:52 2017</span>
</span><span class="code-line"><span class="token comment">#  OS/Arch:         linux/amd64</span>
</span></code><div onclick="copied(this)" data-code="yum install docker        # CentOS ä¸­å®‰è£…
apt-get install docker-ce # Ubuntu ä¸­å®‰è£…
pacman -S docker          # Arch ä¸­å®‰è£…
emerge --ask docker       # Gentoo ä¸­å®‰è£…

#=====================
docker version      # é€šè¿‡æŸ¥çœ‹ç‰ˆæœ¬ï¼Œæ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸ
# Client:
#  Version:         1.12.6
#  API version:     1.24
#  Package version: docker-1.12.6-55.gitc4618fb.el7.centos.x86_64
#  Go version:      go1.8.3
#  Git commit:      c4618fb/1.12.6
#  Built:           Thu Sep 21 22:33:52 2017
#  OS/Arch:         linux/amd64
# 
# Server:
#  Version:         1.12.6
#  API version:     1.24
#  Package version: docker-1.12.6-55.gitc4618fb.el7.centos.x86_64
#  Go version:      go1.8.3
#  Git commit:      c4618fb/1.12.6
#  Built:           Thu Sep 21 22:33:52 2017
#  OS/Arch:         linux/amd64
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="å‘½ä»¤ä»‹ç»"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å‘½ä»¤ä»‹ç»"><span class="octicon octicon-link"></span></a>å‘½ä»¤ä»‹ç»</h2>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <span class="token function">docker</span> --help
</span><span class="code-line">
</span><span class="code-line">ç®¡ç†å‘½ä»¤:
</span><span class="code-line">  container   ç®¡ç†å®¹å™¨
</span><span class="code-line">  image       ç®¡ç†é•œåƒ
</span><span class="code-line">  network     ç®¡ç†ç½‘ç»œ
</span><span class="code-line">å‘½ä»¤ï¼š
</span><span class="code-line">  attach      ä»‹å…¥åˆ°ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨
</span><span class="code-line">  build       æ ¹æ® Dockerfile æ„å»ºä¸€ä¸ªé•œåƒ
</span><span class="code-line">  commit      æ ¹æ®å®¹å™¨çš„æ›´æ”¹åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ
</span><span class="code-line">  <span class="token function">cp</span>          åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸å®¹å™¨ä¸­å¤åˆ¶ æ–‡ä»¶/æ–‡ä»¶å¤¹
</span><span class="code-line">  create      åˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨
</span><span class="code-line">  <span class="token builtin class-name">exec</span>        åœ¨å®¹å™¨ä¸­æ‰§è¡Œä¸€æ¡å‘½ä»¤
</span><span class="code-line">  images      åˆ—å‡ºé•œåƒ
</span><span class="code-line">  <span class="token function">kill</span>        æ€æ­»ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨    
</span><span class="code-line">  logs        å–å¾—å®¹å™¨çš„æ—¥å¿—
</span><span class="code-line">  pause       æš‚åœä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„æ‰€æœ‰è¿›ç¨‹
</span><span class="code-line">  <span class="token function">ps</span>          åˆ—å‡ºæ‰€æœ‰å®¹å™¨
</span><span class="code-line">  pull        æ‹‰å–ä¸€ä¸ªé•œåƒæˆ–ä»“åº“åˆ° registry
</span><span class="code-line">  push        æ¨é€ä¸€ä¸ªé•œåƒæˆ–ä»“åº“åˆ° registry
</span><span class="code-line">  <span class="token function">rename</span>      é‡å‘½åä¸€ä¸ªå®¹å™¨
</span><span class="code-line">  restart     é‡æ–°å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨
</span><span class="code-line">  <span class="token function">rm</span>          åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨
</span><span class="code-line">  rmi         åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ
</span><span class="code-line">  run         åœ¨ä¸€ä¸ªæ–°çš„å®¹å™¨ä¸­æ‰§è¡Œä¸€æ¡å‘½ä»¤
</span><span class="code-line">  search      åœ¨ Docker Hub ä¸­æœç´¢é•œåƒ
</span><span class="code-line">  start       å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»åœæ­¢è¿è¡Œçš„å®¹å™¨
</span><span class="code-line">  stats       æ˜¾ç¤ºä¸€ä¸ªå®¹å™¨çš„å®æ—¶èµ„æºå ç”¨
</span><span class="code-line">  stop        åœæ­¢ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨
</span><span class="code-line">  tag         ä¸ºé•œåƒåˆ›å»ºä¸€ä¸ªæ–°çš„æ ‡ç­¾
</span><span class="code-line">  <span class="token function">top</span>         æ˜¾ç¤ºä¸€ä¸ªå®¹å™¨å†…çš„æ‰€æœ‰è¿›ç¨‹
</span><span class="code-line">  unpause     æ¢å¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨å†…æ‰€æœ‰è¢«æš‚åœçš„è¿›ç¨‹
</span></code><div onclick="copied(this)" data-code="$ docker --help

ç®¡ç†å‘½ä»¤:
  container   ç®¡ç†å®¹å™¨
  image       ç®¡ç†é•œåƒ
  network     ç®¡ç†ç½‘ç»œ
å‘½ä»¤ï¼š
  attach      ä»‹å…¥åˆ°ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨
  build       æ ¹æ® Dockerfile æ„å»ºä¸€ä¸ªé•œåƒ
  commit      æ ¹æ®å®¹å™¨çš„æ›´æ”¹åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ
  cp          åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸å®¹å™¨ä¸­å¤åˆ¶ æ–‡ä»¶/æ–‡ä»¶å¤¹
  create      åˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨
  exec        åœ¨å®¹å™¨ä¸­æ‰§è¡Œä¸€æ¡å‘½ä»¤
  images      åˆ—å‡ºé•œåƒ
  kill        æ€æ­»ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨    
  logs        å–å¾—å®¹å™¨çš„æ—¥å¿—
  pause       æš‚åœä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„æ‰€æœ‰è¿›ç¨‹
  ps          åˆ—å‡ºæ‰€æœ‰å®¹å™¨
  pull        æ‹‰å–ä¸€ä¸ªé•œåƒæˆ–ä»“åº“åˆ° registry
  push        æ¨é€ä¸€ä¸ªé•œåƒæˆ–ä»“åº“åˆ° registry
  rename      é‡å‘½åä¸€ä¸ªå®¹å™¨
  restart     é‡æ–°å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨
  rm          åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨
  rmi         åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ
  run         åœ¨ä¸€ä¸ªæ–°çš„å®¹å™¨ä¸­æ‰§è¡Œä¸€æ¡å‘½ä»¤
  search      åœ¨ Docker Hub ä¸­æœç´¢é•œåƒ
  start       å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»åœæ­¢è¿è¡Œçš„å®¹å™¨
  stats       æ˜¾ç¤ºä¸€ä¸ªå®¹å™¨çš„å®æ—¶èµ„æºå ç”¨
  stop        åœæ­¢ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨
  tag         ä¸ºé•œåƒåˆ›å»ºä¸€ä¸ªæ–°çš„æ ‡ç­¾
  top         æ˜¾ç¤ºä¸€ä¸ªå®¹å™¨å†…çš„æ‰€æœ‰è¿›ç¨‹
  unpause     æ¢å¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨å†…æ‰€æœ‰è¢«æš‚åœçš„è¿›ç¨‹
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="æœåŠ¡ç®¡ç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æœåŠ¡ç®¡ç†"><span class="octicon octicon-link"></span></a>æœåŠ¡ç®¡ç†</h2>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">service</span> <span class="token function">docker</span> start       <span class="token comment"># å¯åŠ¨ docker æœåŠ¡ï¼Œå®ˆæŠ¤è¿›ç¨‹</span>
</span><span class="code-line"><span class="token function">service</span> <span class="token function">docker</span> stop        <span class="token comment"># åœæ­¢ docker æœåŠ¡</span>
</span><span class="code-line"><span class="token function">service</span> <span class="token function">docker</span> status      <span class="token comment"># æŸ¥çœ‹ docker æœåŠ¡çŠ¶æ€</span>
</span><span class="code-line"><span class="token function">chkconfig</span> <span class="token function">docker</span> on        <span class="token comment"># è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨</span>
</span></code><div onclick="copied(this)" data-code="service docker start       # å¯åŠ¨ docker æœåŠ¡ï¼Œå®ˆæŠ¤è¿›ç¨‹
service docker stop        # åœæ­¢ docker æœåŠ¡
service docker status      # æŸ¥çœ‹ docker æœåŠ¡çŠ¶æ€
chkconfig docker on        # è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="é•œåƒç®¡ç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é•œåƒç®¡ç†"><span class="octicon octicon-link"></span></a>é•œåƒç®¡ç†</h2>
    <p>é•œåƒå¯ä»¥çœ‹åšæˆ‘ä»¬å¹³æ—¶è£…ç³»ç»Ÿçš„é•œåƒï¼Œé‡Œé¢å°±æ˜¯ä¸€ä¸ªè¿è¡Œç¯å¢ƒã€‚</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> pull centos:latest  <span class="token comment"># ä»docker.ioä¸­ä¸‹è½½centosé•œåƒåˆ°æœ¬åœ°</span>
</span><span class="code-line"><span class="token function">docker</span> images              <span class="token comment"># æŸ¥çœ‹å·²ä¸‹è½½çš„é•œåƒ</span>
</span><span class="code-line"><span class="token function">docker</span> rmi <span class="token punctuation">[</span>image_id<span class="token punctuation">]</span>      <span class="token comment"># åˆ é™¤é•œåƒï¼ŒæŒ‡å®šé•œåƒid</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># åˆ é™¤æ‰€æœ‰é•œåƒ</span>
</span><span class="code-line"><span class="token comment"># none é»˜è®¤ä¸º docker.io</span>
</span><span class="code-line"><span class="token function">docker</span> rmi <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> none <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $3}'</span> <span class="token operator">|</span> <span class="token function">sort</span> -r<span class="token variable">)</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># è¿æ¥è¿›è¡Œè¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œexitå‘½ä»¤é€€å‡ºã€‚</span>
</span><span class="code-line"><span class="token function">docker</span> run -t -i nginx:latest /bin/bash
</span></code><div onclick="copied(this)" data-code="docker pull centos:latest  # ä»docker.ioä¸­ä¸‹è½½centosé•œåƒåˆ°æœ¬åœ°
docker images              # æŸ¥çœ‹å·²ä¸‹è½½çš„é•œåƒ
docker rmi [image_id]      # åˆ é™¤é•œåƒï¼ŒæŒ‡å®šé•œåƒid

# åˆ é™¤æ‰€æœ‰é•œåƒ
# none é»˜è®¤ä¸º docker.io
docker rmi $(docker images | grep none | awk &#x27;{print $3}&#x27; | sort -r)

# è¿æ¥è¿›è¡Œè¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œexitå‘½ä»¤é€€å‡ºã€‚
docker run -t -i nginx:latest /bin/bash
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="é€šè¿‡å®¹å™¨åˆ›å»ºé•œåƒ"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é€šè¿‡å®¹å™¨åˆ›å»ºé•œåƒ"><span class="octicon octicon-link"></span></a>é€šè¿‡å®¹å™¨åˆ›å»ºé•œåƒ</h3>
    <p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯¹é•œåƒè¿›è¡Œæ›´æ”¹ã€‚</p>
    <ol>
      <li>ä»å·²ç»åˆ›å»ºçš„å®¹å™¨ä¸­æ›´æ–°é•œåƒï¼Œå¹¶ä¸”æäº¤è¿™ä¸ªé•œåƒ</li>
      <li>ä½¿ç”¨ Dockerfile æŒ‡ä»¤æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ</li>
    </ol>
    <p>ä¸‹é¢é€šè¿‡å·²å­˜åœ¨çš„å®¹å™¨åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒã€‚</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> commit -m<span class="token operator">=</span><span class="token string">"First Docker"</span> -a<span class="token operator">=</span><span class="token string">"wcjiang"</span> a6b0a6cfdacf wcjiang/nginx:v1.2.1
</span></code><div onclick="copied(this)" data-code="docker commit -m=&#x22;First Docker&#x22; -a=&#x22;wcjiang&#x22; a6b0a6cfdacf wcjiang/nginx:v1.2.1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>ä¸Šé¢å‘½ä»¤å‚æ•°è¯´æ˜ï¼š</p>
    <ul>
      <li><code>-m</code> æäº¤çš„æè¿°ä¿¡æ¯</li>
      <li><code>-a</code> æŒ‡å®šé•œåƒä½œè€…</li>
      <li><code>a6b0a6cfdacf</code> è®°ä½è¿™ä¸ªæ˜¯å®¹å™¨idï¼Œä¸æ˜¯é•œåƒid</li>
      <li><code>wcjiang/nginx:v1.2.1</code> åˆ›å»ºçš„ç›®æ ‡é•œåƒå</li>
    </ul>
    <h3 id="é€šè¿‡dockerfileåˆ›å»ºé•œåƒ"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é€šè¿‡dockerfileåˆ›å»ºé•œåƒ"><span class="octicon octicon-link"></span></a>é€šè¿‡Dockerfileåˆ›å»ºé•œåƒ</h3>
    <p>å‡è®¾åˆ›å»ºä¸€ä¸ª node.js é•œåƒï¼Œé¦–å…ˆåœ¨ node.js é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶ã€‚</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">touch</span> Dockerfile .dockerignore
</span></code><div onclick="copied(this)" data-code="touch Dockerfile .dockerignore
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><code>.dockerignore</code> æ–‡ä»¶å†…å®¹ï¼Œä¸‹é¢ä»£ç è¡¨ç¤ºï¼Œè¿™ä¸‰ä¸ªè·¯å¾„è¦æ’é™¤ï¼Œä¸è¦æ‰“åŒ…è¿›å…¥ image æ–‡ä»¶ã€‚å¦‚æœä½ æ²¡æœ‰è·¯å¾„è¦æ’é™¤ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥ä¸æ–°å»ºã€‚</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">.git
</span><span class="code-line">node_modules
</span><span class="code-line">npm-debug.log
</span></code><div onclick="copied(this)" data-code=".git
node_modules
npm-debug.log
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Dockerfile æ–‡ä»¶å†…å®¹</p>
    <pre class="language-dockerfile"><code class="language-Dockerfile code-highlight"><span class="code-line"><span class="token instruction"><span class="token keyword">FROM</span> node:8.4</span>
</span><span class="code-line"><span class="token instruction"><span class="token keyword">COPY</span> . /app</span>
</span><span class="code-line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
</span><span class="code-line"><span class="token instruction"><span class="token keyword">RUN</span> npm install --registry=https://registry.npm.taobao.org</span>
</span><span class="code-line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 3000</span>
</span></code><div onclick="copied(this)" data-code="FROM node:8.4
COPY . /app
WORKDIR /app
RUN npm install --registry=https://registry.npm.taobao.org
EXPOSE 3000
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ul>
      <li><code>FROM node:8.4</code>ï¼šè¯¥ <code>image</code> æ–‡ä»¶ç»§æ‰¿å®˜æ–¹çš„ <code>node image</code>ï¼Œå†’å·è¡¨ç¤ºæ ‡ç­¾ï¼Œè¿™é‡Œæ ‡ç­¾æ˜¯<code>8.4</code>ï¼Œå³<code>8.4</code>ç‰ˆæœ¬çš„ <code>node</code>ã€‚</li>
      <li><code>COPY . /app</code>ï¼šå°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤äº† <code>.dockerignore</code> æ’é™¤çš„è·¯å¾„ï¼‰ï¼Œéƒ½æ‹·è´è¿›å…¥ <code>image</code> æ–‡ä»¶çš„ <code>/app</code> ç›®å½•ã€‚</li>
      <li><code>WORKDIR /app</code>ï¼šæŒ‡å®šæ¥ä¸‹æ¥çš„å·¥ä½œè·¯å¾„ä¸º<code>/app</code>ã€‚</li>
      <li><code>RUN npm install</code>ï¼šåœ¨/appç›®å½•ä¸‹ï¼Œè¿è¡Œ <code>npm install</code> å‘½ä»¤å®‰è£…ä¾èµ–ã€‚æ³¨æ„ï¼Œå®‰è£…åæ‰€æœ‰çš„ä¾èµ–ï¼Œéƒ½å°†æ‰“åŒ…è¿›å…¥ <code>image</code> æ–‡ä»¶ã€‚</li>
      <li><code>EXPOSE 3000</code>ï¼šå°†å®¹å™¨ <code>3000</code> ç«¯å£æš´éœ²å‡ºæ¥ï¼Œ å…è®¸å¤–éƒ¨è¿æ¥è¿™ä¸ªç«¯å£ã€‚</li>
    </ul>
    <p>æœ‰äº† <code>Dockerfile</code> æ–‡ä»¶ä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>docker image build</code> å‘½ä»¤åˆ›å»º <code>image</code> æ–‡ä»¶äº†ã€‚</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <span class="token function">docker</span> image build -t koa-demo <span class="token builtin class-name">.</span>
</span><span class="code-line"><span class="token comment"># æˆ–è€…</span>
</span><span class="code-line">$ <span class="token function">docker</span> image build -t koa-demo:0.0.1 <span class="token builtin class-name">.</span>
</span></code><div onclick="copied(this)" data-code="$ docker image build -t koa-demo .
# æˆ–è€…
$ docker image build -t koa-demo:0.0.1 .
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>ä¸Šé¢å‘½ä»¤ï¼Œ<code>-t</code> å‚æ•°ç”¨æ¥æŒ‡å®š <code>image</code> æ–‡ä»¶çš„åå­—ï¼Œåé¢è¿˜å¯ä»¥ç”¨å†’å·æŒ‡å®šæ ‡ç­¾ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤çš„æ ‡ç­¾å°±æ˜¯ <code>latest</code>ã€‚æ³¨æ„åé¢æœ‰ä¸ª <code>.</code>ï¼Œè¡¨ç¤º Dockerfile æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ä¸ºå½“å‰è·¯å¾„</p>
    <h3 id="å‘å¸ƒè‡ªå·±çš„é•œåƒ"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å‘å¸ƒè‡ªå·±çš„é•œåƒ"><span class="octicon octicon-link"></span></a>å‘å¸ƒè‡ªå·±çš„é•œåƒ</h3>
    <ol>
      <li>åœ¨<a href="https://www.docker.com/">Docker</a> æ³¨å†Œè´¦æˆ·ï¼Œå‘å¸ƒçš„é•œåƒéƒ½åœ¨<a href="https://cloud.docker.com/repository/list">è¿™ä¸ªé¡µé¢é‡Œ</a>å±•ç¤º</li>
      <li>å°†ä¸Šé¢åšçš„é•œåƒ<code>nginx</code>ï¼Œèµ·ä¸ªæ–°çš„åå­—<code>nginx-test</code></li>
    </ol>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> tag wcjiang/nginx:v1.2.1 wcjiang/nginx-test:lastest
</span></code><div onclick="copied(this)" data-code="docker tag wcjiang/nginx:v1.2.1 wcjiang/nginx-test:lastest
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="3">
      <li>ç™»å½•docker</li>
    </ol>
    <pre><code class="code-highlight"><span class="code-line">docker login
</span></code><div onclick="copied(this)" data-code="docker login
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="4">
      <li>ä¸Šä¼ <code>nginx-test</code>é•œåƒ</li>
    </ol>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> push wcjiang/nginx-test:lastest
</span><span class="code-line"><span class="token comment"># The push refers to a repository [docker.io/wcjiang/nginx-test]</span>
</span><span class="code-line"><span class="token comment"># 2f5c6a3c22e3: Mounted from wcjiang/nginx</span>
</span><span class="code-line"><span class="token comment"># cf516324493c: Mounted from wcjiang/nginx</span>
</span><span class="code-line"><span class="token comment"># lastest: digest: sha256:73ae804b2c60327d1269aa387cf782f664bc91da3180d10dbd49027d7adaa789 size: 736</span>
</span></code><div onclick="copied(this)" data-code="docker push wcjiang/nginx-test:lastest
# The push refers to a repository [docker.io/wcjiang/nginx-test]
# 2f5c6a3c22e3: Mounted from wcjiang/nginx
# cf516324493c: Mounted from wcjiang/nginx
# lastest: digest: sha256:73ae804b2c60327d1269aa387cf782f664bc91da3180d10dbd49027d7adaa789 size: 736
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="é•œåƒä¸­å®‰è£…è½¯ä»¶"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é•œåƒä¸­å®‰è£…è½¯ä»¶"><span class="octicon octicon-link"></span></a>é•œåƒä¸­å®‰è£…è½¯ä»¶</h3>
    <p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä½¿ç”¨dockerå®˜æ–¹é•œåƒï¼Œå¦‚ mysqlé•œåƒï¼Œé»˜è®¤æƒ…å†µä¸‹é•œåƒä¸­å•¥è½¯ä»¶ä¹Ÿæ²¡æœ‰ï¼Œé€šè¿‡ä¸‹é¢å‘½ä»¤å®‰è£…ä½ æ‰€éœ€è¦çš„è½¯ä»¶ï¼š</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># ç¬¬ä¸€æ¬¡éœ€è¦è¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œç¡®ä¿æºçš„ç´¢å¼•æ˜¯æœ€æ–°çš„</span>
</span><span class="code-line"><span class="token comment"># åŒæ­¥ /etc/apt/sources.list å’Œ /etc/apt/sources.list.d ä¸­åˆ—å‡ºçš„æºçš„ç´¢å¼•</span>
</span><span class="code-line"><span class="token function">apt-get</span> update
</span><span class="code-line"><span class="token comment"># åšè¿‡ä¸Šé¢æ›´æ–°åŒæ­¥ä¹‹åï¼Œå¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤äº†</span>
</span><span class="code-line"><span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">vim</span>
</span></code><div onclick="copied(this)" data-code="# ç¬¬ä¸€æ¬¡éœ€è¦è¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œç¡®ä¿æºçš„ç´¢å¼•æ˜¯æœ€æ–°çš„
# åŒæ­¥ /etc/apt/sources.list å’Œ /etc/apt/sources.list.d ä¸­åˆ—å‡ºçš„æºçš„ç´¢å¼•
apt-get update
# åšè¿‡ä¸Šé¢æ›´æ–°åŒæ­¥ä¹‹åï¼Œå¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤äº†
apt-get install vim
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>å¦‚æœä½ å®‰è£…äº†CentOSæˆ–è€…Ubuntuç³»ç»Ÿå¯ä»¥è¿›å…¥ç³»ç»Ÿå®‰è£…ç›¸å…³è½¯ä»¶</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># è¿›å…¥åˆ°centos7é•œåƒç³»ç»Ÿ</span>
</span><span class="code-line"><span class="token function">docker</span> run -i -t centos:7 /bin/bash
</span><span class="code-line">yum update
</span><span class="code-line">yum <span class="token function">install</span> <span class="token function">vim</span>
</span></code><div onclick="copied(this)" data-code="# è¿›å…¥åˆ°centos7é•œåƒç³»ç»Ÿ
docker run -i -t centos:7 /bin/bash
yum update
yum install vim
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="å®¹å™¨ç®¡ç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å®¹å™¨ç®¡ç†"><span class="octicon octicon-link"></span></a>å®¹å™¨ç®¡ç†</h2>
    <p>å®¹å™¨å°±åƒä¸€ä¸ªç±»çš„å®ä¾‹</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># åˆ—å‡ºæœ¬æœºæ­£åœ¨è¿è¡Œçš„å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> container <span class="token function">ls</span>
</span><span class="code-line"><span class="token comment"># åˆ—å‡ºæœ¬æœºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> container <span class="token function">ls</span> --all
</span><span class="code-line"><span class="token function">docker</span> start <span class="token punctuation">[</span>containerID/Names<span class="token punctuation">]</span> <span class="token comment"># å¯åŠ¨å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> stop <span class="token punctuation">[</span>containerID/Names<span class="token punctuation">]</span>  <span class="token comment"># åœæ­¢å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token punctuation">[</span>containerID/Names<span class="token punctuation">]</span>    <span class="token comment"># åˆ é™¤å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> logs <span class="token punctuation">[</span>containerID/Names<span class="token punctuation">]</span>  <span class="token comment"># æŸ¥çœ‹æ—¥å¿—</span>
</span><span class="code-line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it <span class="token punctuation">[</span>containerID/Names<span class="token punctuation">]</span> /bin/bash  <span class="token comment"># è¿›å…¥å®¹å™¨</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># ä»æ­£åœ¨è¿è¡Œçš„ Docker å®¹å™¨é‡Œé¢ï¼Œå°†æ–‡ä»¶æ‹·è´åˆ°æœ¬æœºï¼Œæ³¨æ„åé¢æœ‰ä¸ªã€ç‚¹ã€‘æ‹·è´åˆ°å½“å‰ç›®å½•</span>
</span><span class="code-line"><span class="token function">docker</span> container <span class="token function">cp</span> <span class="token punctuation">[</span>containID<span class="token punctuation">]</span>:<span class="token punctuation">[</span>/path/to/file<span class="token punctuation">]</span> <span class="token builtin class-name">.</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">docker</span> run centos <span class="token builtin class-name">echo</span> <span class="token string">"hello world"</span>  <span class="token comment"># åœ¨dockerå®¹å™¨ä¸­è¿è¡Œhello world!</span>
</span><span class="code-line"><span class="token function">docker</span> run centos yum <span class="token function">install</span> -y <span class="token function">wget</span> <span class="token comment"># åœ¨dockerå®¹å™¨ä¸­ï¼Œå®‰è£…wgetè½¯ä»¶</span>
</span><span class="code-line"><span class="token function">docker</span> <span class="token function">ps</span>                             <span class="token comment"># åˆ—å‡ºåŒ…æ‹¬æœªè¿è¡Œçš„å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> <span class="token function">ps</span> -a                          <span class="token comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨(åŒ…æ‹¬æ­£åœ¨è¿è¡Œå’Œå·²åœæ­¢çš„)</span>
</span><span class="code-line"><span class="token function">docker</span> logs my-nginx                  <span class="token comment"># æŸ¥çœ‹ my-nginx å®¹å™¨æ—¥å¿—</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">docker</span> run -i -t centos /bin/bash     <span class="token comment"># å¯åŠ¨ä¸€ä¸ªå®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> inspect centos                 <span class="token comment"># æ£€æŸ¥è¿è¡Œä¸­çš„é•œåƒ</span>
</span><span class="code-line"><span class="token function">docker</span> commit 8bd centos              <span class="token comment"># ä¿å­˜å¯¹å®¹å™¨çš„ä¿®æ”¹</span>
</span><span class="code-line"><span class="token function">docker</span> commit -m <span class="token string">"n changed"</span> my-nginx my-nginx-image <span class="token comment"># ä½¿ç”¨å·²ç»å­˜åœ¨çš„å®¹å™¨åˆ›å»ºä¸€ä¸ªé•œåƒ</span>
</span><span class="code-line"><span class="token function">docker</span> inspect -f <span class="token punctuation">{</span><span class="token punctuation">{</span>.State.Pid<span class="token punctuation">}</span><span class="token punctuation">}</span> 44fc0f0582d9        <span class="token comment"># è·å–idä¸º 44fc0f0582d9 çš„PIDè¿›ç¨‹ç¼–å·</span>
</span><span class="code-line"><span class="token comment"># ä¸‹è½½æŒ‡å®šç‰ˆæœ¬å®¹å™¨é•œåƒ</span>
</span><span class="code-line"><span class="token function">docker</span> pull gitlab/gitlab-ce:11.2.3-ce.0
</span></code><div onclick="copied(this)" data-code="# åˆ—å‡ºæœ¬æœºæ­£åœ¨è¿è¡Œçš„å®¹å™¨
docker container ls
# åˆ—å‡ºæœ¬æœºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨
docker container ls --all
docker start [containerID/Names] # å¯åŠ¨å®¹å™¨
docker stop [containerID/Names]  # åœæ­¢å®¹å™¨
docker rm [containerID/Names]    # åˆ é™¤å®¹å™¨
docker logs [containerID/Names]  # æŸ¥çœ‹æ—¥å¿—
docker exec -it [containerID/Names] /bin/bash  # è¿›å…¥å®¹å™¨

# ä»æ­£åœ¨è¿è¡Œçš„ Docker å®¹å™¨é‡Œé¢ï¼Œå°†æ–‡ä»¶æ‹·è´åˆ°æœ¬æœºï¼Œæ³¨æ„åé¢æœ‰ä¸ªã€ç‚¹ã€‘æ‹·è´åˆ°å½“å‰ç›®å½•
docker container cp [containID]:[/path/to/file] .

docker run centos echo &#x22;hello world&#x22;  # åœ¨dockerå®¹å™¨ä¸­è¿è¡Œhello world!
docker run centos yum install -y wget # åœ¨dockerå®¹å™¨ä¸­ï¼Œå®‰è£…wgetè½¯ä»¶
docker ps                             # åˆ—å‡ºåŒ…æ‹¬æœªè¿è¡Œçš„å®¹å™¨
docker ps -a                          # æŸ¥çœ‹æ‰€æœ‰å®¹å™¨(åŒ…æ‹¬æ­£åœ¨è¿è¡Œå’Œå·²åœæ­¢çš„)
docker logs my-nginx                  # æŸ¥çœ‹ my-nginx å®¹å™¨æ—¥å¿—

docker run -i -t centos /bin/bash     # å¯åŠ¨ä¸€ä¸ªå®¹å™¨
docker inspect centos                 # æ£€æŸ¥è¿è¡Œä¸­çš„é•œåƒ
docker commit 8bd centos              # ä¿å­˜å¯¹å®¹å™¨çš„ä¿®æ”¹
docker commit -m &#x22;n changed&#x22; my-nginx my-nginx-image # ä½¿ç”¨å·²ç»å­˜åœ¨çš„å®¹å™¨åˆ›å»ºä¸€ä¸ªé•œåƒ
docker inspect -f {{.State.Pid}} 44fc0f0582d9        # è·å–idä¸º 44fc0f0582d9 çš„PIDè¿›ç¨‹ç¼–å·
# ä¸‹è½½æŒ‡å®šç‰ˆæœ¬å®¹å™¨é•œåƒ
docker pull gitlab/gitlab-ce:11.2.3-ce.0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="å®¹å™¨æœåŠ¡ç®¡ç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å®¹å™¨æœåŠ¡ç®¡ç†"><span class="octicon octicon-link"></span></a>å®¹å™¨æœåŠ¡ç®¡ç†</h3>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> run -itd --name my-nginx2 nginx  <span class="token comment"># é€šè¿‡nginxé•œåƒï¼Œã€åˆ›å»ºã€‘å®¹å™¨åä¸º my-nginx2 çš„å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> start my-nginx --restart<span class="token operator">=</span>always  <span class="token comment"># ã€å¯åŠ¨ç­–ç•¥ã€‘ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®¹å™¨å¯åŠ¨æ·»åŠ ç­–ç•¥</span>
</span><span class="code-line">    <span class="token comment"># no - å®¹å™¨ä¸é‡å¯</span>
</span><span class="code-line">    <span class="token comment"># on-failure - å®¹å™¨æ¨å‡ºçŠ¶æ€é0æ—¶é‡å¯</span>
</span><span class="code-line">    <span class="token comment"># always - å§‹ç»ˆé‡å¯</span>
</span><span class="code-line"><span class="token function">docker</span> start my-nginx             <span class="token comment"># ã€å¯åŠ¨ã€‘ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> restart my-nginx           <span class="token comment"># ã€é‡å¯ã€‘å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> stop my-nginx              <span class="token comment"># ã€åœæ­¢è¿è¡Œã€‘ä¸€ä¸ªå®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> <span class="token function">kill</span> my-nginx              <span class="token comment"># ã€æ€æ­»ã€‘ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> <span class="token function">rename</span> my-nginx new-nginx  <span class="token comment"># ã€é‡å‘½åã€‘å®¹å™¨</span>
</span><span class="code-line"><span class="token function">docker</span> <span class="token function">rm</span> new-nginx               <span class="token comment"># ã€åˆ é™¤ã€‘å®¹å™¨</span>
</span></code><div onclick="copied(this)" data-code="docker run -itd --name my-nginx2 nginx  # é€šè¿‡nginxé•œåƒï¼Œã€åˆ›å»ºã€‘å®¹å™¨åä¸º my-nginx2 çš„å®¹å™¨
docker start my-nginx --restart=always  # ã€å¯åŠ¨ç­–ç•¥ã€‘ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®¹å™¨å¯åŠ¨æ·»åŠ ç­–ç•¥
    # no - å®¹å™¨ä¸é‡å¯
    # on-failure - å®¹å™¨æ¨å‡ºçŠ¶æ€é0æ—¶é‡å¯
    # always - å§‹ç»ˆé‡å¯
docker start my-nginx             # ã€å¯åŠ¨ã€‘ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®¹å™¨
docker restart my-nginx           # ã€é‡å¯ã€‘å®¹å™¨
docker stop my-nginx              # ã€åœæ­¢è¿è¡Œã€‘ä¸€ä¸ªå®¹å™¨
docker kill my-nginx              # ã€æ€æ­»ã€‘ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨
docker rename my-nginx new-nginx  # ã€é‡å‘½åã€‘å®¹å™¨
docker rm new-nginx               # ã€åˆ é™¤ã€‘å®¹å™¨
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="è¿›å…¥å®¹å™¨"><a class="anchor" aria-hidden="true" tabindex="-1" href="#è¿›å…¥å®¹å™¨"><span class="octicon octicon-link"></span></a>è¿›å…¥å®¹å™¨</h3>
    <ol>
      <li>åˆ›å»ºä¸€ä¸ªå®ˆæŠ¤çŠ¶æ€çš„ Docker å®¹å™¨</li>
    </ol>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> run -itd my-nginx /bin/bash
</span></code><div onclick="copied(this)" data-code="docker run -itd my-nginx /bin/bash
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="2">
      <li>ä½¿ç”¨<code>docker ps</code>æŸ¥çœ‹åˆ°è¯¥å®¹å™¨ä¿¡æ¯</li>
    </ol>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> <span class="token function">ps</span>
</span><span class="code-line"><span class="token comment"># CONTAINER ID  IMAGE  COMMAND      CREATED          STATUS          PORTS    NAMES</span>
</span><span class="code-line"><span class="token comment"># 6bd0496da64f  nginx  "/bin/bash"  20 seconds ago   Up 18 seconds   80/tcp   high_shirley</span>
</span></code><div onclick="copied(this)" data-code="docker ps
# CONTAINER ID  IMAGE  COMMAND      CREATED          STATUS          PORTS    NAMES
# 6bd0496da64f  nginx  &#x22;/bin/bash&#x22;  20 seconds ago   Up 18 seconds   80/tcp   high_shirley
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="3">
      <li>ä½¿ç”¨<code>docker exec</code>å‘½ä»¤è¿›å…¥ä¸€ä¸ªå·²ç»åœ¨è¿è¡Œçš„å®¹å™¨</li>
    </ol>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it 6bd0496da64f /bin/bash
</span></code><div onclick="copied(this)" data-code="docker exec -it 6bd0496da64f /bin/bash
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>é€šå¸¸æœ‰ä¸‹é¢å‡ ç§æ–¹å¼è¿›å…¥Dockerçš„å®¹å™¨ï¼Œæ¨èä½¿ç”¨ <code>exec</code>ï¼Œä½¿ç”¨ <code>attach</code> ä¸€ç›´è¿›å…¥å¤±è´¥ã€‚</p>
    <ul>
      <li>ä½¿ç”¨<code>docker attach</code></li>
      <li>ä½¿ç”¨<code>SSH</code> <a href="http://www.oschina.net/translate/why-you-dont-need-to-run-sshd-in-docker?cmp">ä¸ºä»€ä¹ˆä¸éœ€è¦åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ sshd</a></li>
      <li>ä½¿ç”¨<code>nsenter</code>è¿›å…¥Dockerå®¹å™¨ï¼Œ<a href="https://github.com/jpetazzo/nsenter">nsenterå®˜æ–¹ä»“åº“</a></li>
      <li>ä½¿ç”¨<code>docker exec</code>ï¼Œåœ¨<code>1.3.*</code>ä¹‹åæä¾›äº†ä¸€ä¸ªæ–°çš„å‘½ä»¤<code>exec</code>ç”¨äºè¿›å…¥å®¹å™¨</li>
    </ul>
    <h2 id="æ–‡ä»¶æ‹·è´"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ–‡ä»¶æ‹·è´"><span class="octicon octicon-link"></span></a>æ–‡ä»¶æ‹·è´</h2>
    <p>ä»ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨ <code>sudo docker cp host_path containerID:container_path</code><br>ä»å®¹å™¨å¤åˆ¶åˆ°ä¸»æœº <code>sudo docker cp containerID:container_path host_path</code></p>
    <h2 id="dockerç§æœ‰ä»“åº“æ­å»º"><a class="anchor" aria-hidden="true" tabindex="-1" href="#dockerç§æœ‰ä»“åº“æ­å»º"><span class="octicon octicon-link"></span></a>Dockerç§æœ‰ä»“åº“æ­å»º</h2>
    <p>é€šè¿‡å®˜æ–¹æä¾›çš„ç§æœ‰ä»“åº“é•œåƒ<code>registry</code>æ¥æ­å»ºç§æœ‰ä»“åº“ã€‚é€šè¿‡ <a href="https://humpback.github.io/">humpback</a> å¿«é€Ÿæ­å»ºè½»é‡çº§çš„Dockerå®¹å™¨äº‘ç®¡ç†å¹³å°ã€‚å…³äºä»“åº“é…ç½®è¯´æ˜è¯·å‚è§<a href="https://github.com/docker/distribution/blob/master/docs/configuration.md">configuration.md</a></p>
    <blockquote>
      <p>âš ï¸ æ³¨æ„ï¼šä¹Ÿå¯ä»¥é€šè¿‡éƒ¨ç½²ç®¡ç†å·¥å…· <code>Harbor</code> æ¥éƒ¨ç½² <code>registry</code></p>
    </blockquote>
    <p>é™¤äº† <a href="https://github.com/goharbor/harbor">Harbor</a> è¿˜æœ‰ <a href="https://github.com/humpback/humpback">humpback</a> å’Œ <a href="https://github.com/rancher/rancher">rancher</a></p>
    <h3 id="registry"><a class="anchor" aria-hidden="true" tabindex="-1" href="#registry"><span class="octicon octicon-link"></span></a><code>registry</code></h3>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> pull registry:2.6.2
</span></code><div onclick="copied(this)" data-code="docker pull registry:2.6.2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>åˆ›å»ºå®¹å™¨å¹¶è¿è¡Œï¼Œåˆ›å»ºæˆåŠŸä¹‹åï¼Œå¯è®¿é—® <code>http://192.168.99.100:7000/v2/</code>ï¼Œæ¥æ£€æŸ¥ä»“åº“æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œå½“è¿”å› <code>{}</code> æ—¶ï¼Œè¡¨ç¤ºéƒ¨ç½²æˆåŠŸã€‚</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> run -d <span class="token punctuation">\</span>
</span><span class="code-line">  -p <span class="token number">5000</span>:5000 <span class="token punctuation">\</span>
</span><span class="code-line">  --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
</span><span class="code-line">  --name registry <span class="token punctuation">\</span>
</span><span class="code-line">  registry:2
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># è‡ªå®šä¹‰å­˜å‚¨ä½ç½®</span>
</span><span class="code-line"><span class="token function">docker</span> run -d <span class="token punctuation">\</span>
</span><span class="code-line">  -p <span class="token number">5000</span>:5000 <span class="token punctuation">\</span>
</span><span class="code-line">  --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
</span><span class="code-line">  --name registry <span class="token punctuation">\</span>
</span><span class="code-line">  -v <span class="token environment constant">$HOME</span>/_docker/registry:/var/lib/registry <span class="token punctuation">\</span>
</span><span class="code-line">  registry:2
</span><span class="code-line">
</span><span class="code-line"><span class="token function">docker</span> run -d -p <span class="token number">5000</span>:5000 --restart<span class="token operator">=</span>always --name registry <span class="token punctuation">\</span>
</span><span class="code-line">    -v <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">pwd</span><span class="token variable">`</span></span>/config.yml:/etc/docker/registry/config.yml <span class="token punctuation">\</span>
</span><span class="code-line">    registry:2
</span></code><div onclick="copied(this)" data-code="docker run -d \
  -p 5000:5000 \
  --restart=always \
  --name registry \
  registry:2

# è‡ªå®šä¹‰å­˜å‚¨ä½ç½®
docker run -d \
  -p 5000:5000 \
  --restart=always \
  --name registry \
  -v $HOME/_docker/registry:/var/lib/registry \
  registry:2

docker run -d -p 5000:5000 --restart=always --name registry \
    -v &#x60;pwd&#x60;/config.yml:/etc/docker/registry/config.yml \
    registry:2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>æ¨é€é•œåƒåˆ°ç§æœ‰ä»“åº“</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># ä»å®˜æ–¹ä»“åº“æ‹‰å–ä¸€ä¸ªé•œåƒ</span>
</span><span class="code-line"><span class="token function">docker</span> pull nginx:1.13
</span><span class="code-line"><span class="token comment"># ä¸ºé•œåƒ `nginx:1.13` åˆ›å»ºä¸€ä¸ªæ–°æ ‡ç­¾ `192.168.31.69:7000/test-nginx:1.13`</span>
</span><span class="code-line"><span class="token function">docker</span> tag nginx:latest <span class="token number">192.168</span>.31.69:5000/test-nginx:1.13
</span><span class="code-line"><span class="token comment"># æ¨é€åˆ°ç§æœ‰ä»“åº“ä¸­</span>
</span><span class="code-line"><span class="token function">docker</span> push <span class="token number">192.168</span>.31.69:5000/test-nginx:1.13
</span><span class="code-line"><span class="token comment"># The push refers to a repository [192.168.99.100:7000/test-nginx]</span>
</span><span class="code-line"><span class="token comment"># Get https://192.168.99.100:7000/v1/_ping: http: server gave HTTP response to HTTPS client</span>
</span></code><div onclick="copied(this)" data-code="# ä»å®˜æ–¹ä»“åº“æ‹‰å–ä¸€ä¸ªé•œåƒ
docker pull nginx:1.13
# ä¸ºé•œåƒ &#x60;nginx:1.13&#x60; åˆ›å»ºä¸€ä¸ªæ–°æ ‡ç­¾ &#x60;192.168.31.69:7000/test-nginx:1.13&#x60;
docker tag nginx:latest 192.168.31.69:5000/test-nginx:1.13
# æ¨é€åˆ°ç§æœ‰ä»“åº“ä¸­
docker push 192.168.31.69:5000/test-nginx:1.13
# The push refers to a repository [192.168.99.100:7000/test-nginx]
# Get https://192.168.99.100:7000/v1/_ping: http: server gave HTTP response to HTTPS client
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>åœ¨æ¨é€åˆ°çš„æ—¶å€™æŠ¥é”™è¯¯ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨ <code>https</code> æäº¤ï¼Œè¿™ä¸ªæ­å»ºçš„é»˜è®¤ä½¿ç”¨çš„æ˜¯ <code>http</code>ï¼Œè§£å†³æ–¹æ³•ä¸¤ä¸ªï¼š</p>
    <ol>
      <li>åˆ›å»ºä¸€ä¸ª <code>https</code> æ˜ å°„</li>
      <li>å°†ä»“åº“åœ°å€åŠ å…¥åˆ°ä¸å®‰å…¨çš„ä»“åº“åˆ—è¡¨ä¸­</li>
    </ol>
    <p>æˆ‘ä»¬ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼ŒåŠ å…¥åˆ°ä¸å®‰å…¨çš„ä»“åº“åˆ—è¡¨ä¸­ï¼Œä¿®æ”¹dockeré…ç½®æ–‡ä»¶ <code>vi /etc/docker/daemon.json</code> æ·»åŠ  <code>insecure-registries</code> é…ç½®ä¿¡æ¯ï¼Œå¦‚æœ <a href="https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file">daemon.json</a> æ–‡ä»¶ä¸å­˜åœ¨å¯ä»¥åˆ›å»ºï¼Œå…³é”®é…ç½®é¡¹ï¼Œå°†ä»“åº“å°†å…¥åˆ°ä¸å®‰å…¨çš„ä»“åº“åˆ—è¡¨ä¸­ã€‚</p>
    <pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token string-property property">"insecure-registries"</span><span class="token operator">:</span><span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token string">"192.168.31.69:5000"</span>
</span><span class="code-line">  <span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="{
  &#x22;insecure-registries&#x22;:[
    &#x22;192.168.31.69:5000&#x22;
  ]
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <blockquote>
      <p>å¦‚æœæ˜¯ macOS å¯ä»¥é€šè¿‡ docker å®¢æˆ·ç«¯ï¼Œ<code>Preferences</code> => <code>Advanced</code> => <code>æ·»åŠ é…ç½®</code> => <code>Apply &#x26; Restart</code>ï¼Œé‡å¯dockerå°±å¯ä»¥äº†ã€‚</p>
    </blockquote>
    <p>é‡å¯æœåŠ¡ <code>service docker restart</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹ push æ˜¯ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯çš„ï¼š</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> push <span class="token number">192.168</span>.99.100:7000/test-nginx:1.13
</span><span class="code-line"><span class="token comment"># The push refers to a repository [192.168.99.100:7000/test-nginx]</span>
</span><span class="code-line"><span class="token comment"># a1a53f8d99b5: Retrying in 1 second</span>
</span><span class="code-line"><span class="token comment"># ...</span>
</span><span class="code-line"><span class="token comment"># received unexpected HTTP status: 500 Internal Server Error</span>
</span></code><div onclick="copied(this)" data-code="docker push 192.168.99.100:7000/test-nginx:1.13
# The push refers to a repository [192.168.99.100:7000/test-nginx]
# a1a53f8d99b5: Retrying in 1 second
# ...
# received unexpected HTTP status: 500 Internal Server Error
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>ä¸Šé¢é”™è¯¯æ˜¯ <code>SELinux</code> å¼ºåˆ¶è®¿é—®æ§åˆ¶å®‰å…¨ç³»ç»Ÿï¼Œé˜»æ­¢å¯¼è‡´çš„é”™è¯¯ï¼Œé€šè¿‡ä¸‹é¢æ–¹æ³•ç¦ç”¨ SELinux ä¹‹åå°±å¯ä»¥ push äº†ã€‚</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">setenforce <span class="token number">0</span>  
</span><span class="code-line">getenforce   
</span><span class="code-line"><span class="token comment"># Permissive  </span>
</span></code><div onclick="copied(this)" data-code="setenforce 0  
getenforce   
# Permissive  
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># åœæ­¢æœ¬åœ° registry</span>
</span><span class="code-line"><span class="token function">docker</span> container stop registry
</span><span class="code-line"><span class="token comment"># è¦åˆ é™¤å®¹å™¨ï¼Œè¯·ä½¿ç”¨ docker container rm</span>
</span><span class="code-line"><span class="token function">docker</span> container stop registry <span class="token operator">&#x26;&#x26;</span> <span class="token function">docker</span> container <span class="token function">rm</span> -v registry
</span><span class="code-line"><span class="token comment"># è‡ªå®šä¹‰å­˜å‚¨ä½ç½®</span>
</span></code><div onclick="copied(this)" data-code="# åœæ­¢æœ¬åœ° registry
docker container stop registry
# è¦åˆ é™¤å®¹å™¨ï¼Œè¯·ä½¿ç”¨ docker container rm
docker container stop registry &#x26;&#x26; docker container rm -v registry
# è‡ªå®šä¹‰å­˜å‚¨ä½ç½®
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="harbor"><a class="anchor" aria-hidden="true" tabindex="-1" href="#harbor"><span class="octicon octicon-link"></span></a><code>Harbor</code></h3>
    <p><a href="harbor.html">éƒ¨ç½² registry ç®¡ç†å·¥å…· Harbor</a></p>
    <h2 id="docker-rest-api"><a class="anchor" aria-hidden="true" tabindex="-1" href="#docker-rest-api"><span class="octicon octicon-link"></span></a>Docker REST API</h2>
    <p><code>Docker</code> ä¸ä»…å¯ä»¥é€šè¿‡æœ¬åœ°å‘½ä»¤è¡Œ <code>docker</code> å‘½ä»¤è¿›è¡Œè°ƒç”¨ï¼Œè¿˜å¯ä»¥é€šè¿‡å¼€å¯è¿œç¨‹æ§åˆ¶ <code>API</code>ï¼Œä½¿ç”¨ <code>HTTP</code> è°ƒç”¨æ¥å£æ¥è¿›è¡Œè®¿é—®ï¼Œè¿œç¨‹æ§åˆ¶ <code>Docker Daemon</code> æ¥åšå¾ˆå¤šæ“ä½œã€‚<code>Docker</code> çš„è¿œç¨‹ <code>API</code> æœåŠ¡é»˜è®¤ç›‘å¬çš„æ˜¯ TCP <code>2375</code> ç«¯å£ï¼Œä¸ºäº†ä¿è¯å®‰å…¨ï¼ŒDocker å®‰è£…åé»˜è®¤ä¸ä¼šå¯ç”¨è¿œç¨‹ <code>API</code> æœåŠ¡ï¼Œå› ä¸ºè¿™ä¸ªæœåŠ¡é»˜è®¤ä¸åšæƒé™è®¤è¯ã€‚</p>
    <h3 id="centos"><a class="anchor" aria-hidden="true" tabindex="-1" href="#centos"><span class="octicon octicon-link"></span></a>CentOS</h3>
    <p>CentOS çš„å¼€å¯æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œå…ˆä¿®æ”¹é…ç½®ï¼š</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line"><span class="token function">vim</span> /usr/lib/systemd/system/docker.service
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># ä¿®æ”¹ `ExecStart` é…ç½®é¡¹ï¼Œé»˜è®¤å¦‚ä¸‹ï¼š</span>
</span><span class="code-line"><span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/dockerd -H fd:// --containerd<span class="token operator">=</span>/run/containerd/containerd.sock
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># å¢åŠ ä¸€ä¸ª `-H tcp://0.0.0.0:2375` é€‰é¡¹</span>
</span><span class="code-line"><span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/dockerd -H fd:// -H tcp://0.0.0.0:2375 --containerd<span class="token operator">=</span>/run/containerd/containerd.sock
</span></code><div onclick="copied(this)" data-code="vim /usr/lib/systemd/system/docker.service

# ä¿®æ”¹ &#x60;ExecStart&#x60; é…ç½®é¡¹ï¼Œé»˜è®¤å¦‚ä¸‹ï¼š
ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock

# å¢åŠ ä¸€ä¸ª &#x60;-H tcp://0.0.0.0:2375&#x60; é€‰é¡¹
ExecStart=/usr/bin/dockerd -H fd:// -H tcp://0.0.0.0:2375 --containerd=/run/containerd/containerd.sock
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>å¦‚æœæ˜¯å†…ç½‘ç”Ÿäº§ç¯å¢ƒï¼Œä¹Ÿå¯ä»¥å°† <code>0.0.0.0</code> æ”¹ä¸ºå†…ç½‘ IPã€‚åŒæ ·çš„ï¼Œ<code>2375</code> ç«¯å£ä¹Ÿå¯ä»¥ä¿®æ”¹ã€‚ä½†æ˜¯è¿™æ ·å¯èƒ½è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ— æ³•åœ¨å‘½ä»¤è¡Œä½¿ç”¨ <code>docker</code> å‘½ä»¤äº†ï¼Œè¿˜éœ€è¦æ·»åŠ  <code>sock</code> é€‰é¡¹ï¼š<code>-H unix:///var/run/docker.sock</code>ï¼Œæœ€åä¸ºï¼š</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line"><span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/dockerd -H fd:// -H unix:///var/run/docker.sock -H tcp://10.105.3.115:2375 --containerd<span class="token operator">=</span>/run/containerd/containerd.sock
</span></code><div onclick="copied(this)" data-code="ExecStart=/usr/bin/dockerd -H fd:// -H unix:///var/run/docker.sock -H tcp://10.105.3.115:2375 --containerd=/run/containerd/containerd.sock
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>ä¿®æ”¹å®Œé…ç½®ä¹‹åéœ€è¦é‡å¯ Docker æœåŠ¡ï¼š</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">systemctl daemon-reload
</span><span class="code-line">systemctl restart <span class="token function">docker</span>
</span><span class="code-line"><span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> restart
</span></code><div onclick="copied(this)" data-code="systemctl daemon-reload
systemctl restart docker
sudo service docker restart
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>é‡å¯å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ netstat æŸ¥çœ‹ç«¯å£æ˜¯å¦ç›‘å¬æ¥ç¡®è®¤æ˜¯å¦æˆåŠŸï¼š</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token punctuation">[</span>root@VM-3-115-centos ~<span class="token punctuation">]</span><span class="token comment"># netstat -nutlp | grep 2375</span>
</span><span class="code-line">tcp   <span class="token number">0</span>   <span class="token number">0</span> <span class="token number">10.105</span>.3.115:2375   <span class="token number">0.0</span>.0.0:*     LISTEN    <span class="token number">32316</span>/dockerd
</span></code><div onclick="copied(this)" data-code="[root@VM-3-115-centos ~]# netstat -nutlp | grep 2375
tcp   0   0 10.105.3.115:2375   0.0.0.0:*     LISTEN    32316/dockerd
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="macos"><a class="anchor" aria-hidden="true" tabindex="-1" href="#macos"><span class="octicon octicon-link"></span></a>MacOS</h3>
    <p>åœ¨ Mac ä¸‹æ— æ³•ç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥å¼€å¯è¿œç¨‹ API æœåŠ¡ï¼Œåæ¥åœ¨ <a href="https://github.com/docker/for-mac"><code>docker/for-mac</code></a> çš„ <a href="https://github.com/docker/for-mac/issues/770"><code>issue</code></a> ä¸­å¾—åˆ°äº†è§£å†³æ–¹æ¡ˆã€‚</p>
    <p>å¯ä»¥è¿è¡Œä¸€ä¸ª <a href="https://hub.docker.com/r/bobrik/socat"><code>bobrik/socat</code></a> å®¹å™¨ï¼Œå°† <code>unix socket</code> ä¸Šçš„ Docker API è½¬å‘åˆ° MacOS ä¸ŠæŒ‡å®šçš„ç«¯å£ä¸­ï¼š</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">docker</span> run -d -v /var/run/docker.sock:/var/run/docker.sock -p <span class="token number">127.0</span>.0.1:2375:2375 bobrik/socat TCP-LISTEN:2375,fork UNIX-CONNECT:/var/run/docker.sock
</span></code><div onclick="copied(this)" data-code="docker run -d -v /var/run/docker.sock:/var/run/docker.sock -p 127.0.0.1:2375:2375 bobrik/socat TCP-LISTEN:2375,fork UNIX-CONNECT:/var/run/docker.sock
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="æµ‹è¯•"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æµ‹è¯•"><span class="octicon octicon-link"></span></a>æµ‹è¯•</h3>
    <p>å¯ç”¨æˆåŠŸåï¼Œå¯ä»¥è¿›è¡Œä¸€äº›æµ‹è¯•ï¼Œä¾‹å¦‚ç›´æ¥ä½¿ç”¨æµè§ˆå™¨è®¿é—® info å’Œ version ç­‰é¡µé¢è·å–ä¿¡æ¯ã€‚</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">http://127.0.0.1:2375/info
</span><span class="code-line">http://127.0.0.1:2375/version
</span></code><div onclick="copied(this)" data-code="http://127.0.0.1:2375/info
http://127.0.0.1:2375/version
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>ä¸‹é¢å¯æµ‹è¯• docker æ˜¯å¦å¯åŠ¨äº†</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">curl</span> -s --unix-socket /var/run/docker.sock http://dummy/containers/json
</span><span class="code-line"><span class="token comment">## æˆ–è€…ä½¿ç”¨ä¸‹é¢å‘½ä»¤</span>
</span><span class="code-line"><span class="token function">docker</span> info
</span></code><div onclick="copied(this)" data-code="curl -s --unix-socket /var/run/docker.sock http://dummy/containers/json
## æˆ–è€…ä½¿ç”¨ä¸‹é¢å‘½ä»¤
docker info
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="ä½¿ç”¨dockerå®æˆ˜"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ä½¿ç”¨dockerå®æˆ˜"><span class="octicon octicon-link"></span></a>ä½¿ç”¨Dockerå®æˆ˜</h2>
    <blockquote>
      <p>âš æ–‡ä»¶æŒ‚è½½æ³¨æ„ï¼šdocker ç¦æ­¢ç”¨ä¸»æœºä¸Šä¸å­˜åœ¨çš„æ–‡ä»¶æŒ‚è½½åˆ° container ä¸­å·²ç»å­˜åœ¨çš„æ–‡ä»¶</p>
    </blockquote>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">-d, --detach<span class="token operator">=</span>false      <span class="token comment"># æŒ‡å®šå®¹å™¨è¿è¡Œäºå‰å°è¿˜æ˜¯åå°ï¼Œé»˜è®¤ä¸ºfalse   </span>
</span><span class="code-line">-i, --interactive<span class="token operator">=</span>false <span class="token comment"># æ‰“å¼€STDINï¼Œç”¨äºæ§åˆ¶å°äº¤äº’  </span>
</span><span class="code-line">-t, --tty<span class="token operator">=</span>false         <span class="token comment"># åˆ†é…ttyè®¾å¤‡ï¼Œè¯¥å¯ä»¥æ”¯æŒç»ˆç«¯ç™»å½•ï¼Œé»˜è®¤ä¸ºfalse  </span>
</span><span class="code-line">-u, --user<span class="token operator">=</span><span class="token string">""</span>           <span class="token comment"># æŒ‡å®šå®¹å™¨çš„ç”¨æˆ·  </span>
</span><span class="code-line">-a, --attach<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>         <span class="token comment"># ç™»å½•å®¹å™¨ï¼ˆå¿…é¡»æ˜¯ä»¥docker run -då¯åŠ¨çš„å®¹å™¨ï¼‰</span>
</span><span class="code-line">-w, --workdir<span class="token operator">=</span><span class="token string">""</span>        <span class="token comment"># æŒ‡å®šå®¹å™¨çš„å·¥ä½œç›®å½• </span>
</span><span class="code-line">-c, --cpu-shares<span class="token operator">=</span><span class="token number">0</span>      <span class="token comment"># è®¾ç½®å®¹å™¨CPUæƒé‡ï¼Œåœ¨CPUå…±äº«åœºæ™¯ä½¿ç”¨  </span>
</span><span class="code-line">-e, --env<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token comment"># æŒ‡å®šç¯å¢ƒå˜é‡ï¼Œå®¹å™¨ä¸­å¯ä»¥ä½¿ç”¨è¯¥ç¯å¢ƒå˜é‡  </span>
</span><span class="code-line">-m, --memory<span class="token operator">=</span><span class="token string">""</span>         <span class="token comment"># æŒ‡å®šå®¹å™¨çš„å†…å­˜ä¸Šé™  </span>
</span><span class="code-line">-P, --publish-all<span class="token operator">=</span>false <span class="token comment"># æŒ‡å®šå®¹å™¨æš´éœ²çš„ç«¯å£  </span>
</span><span class="code-line">-p, --publish<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># æŒ‡å®šå®¹å™¨æš´éœ²çš„ç«¯å£ </span>
</span><span class="code-line">-h, --hostname<span class="token operator">=</span><span class="token string">""</span>       <span class="token comment"># æŒ‡å®šå®¹å™¨çš„ä¸»æœºå  </span>
</span><span class="code-line">-v, --volume<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>         <span class="token comment"># ç»™å®¹å™¨æŒ‚è½½å­˜å‚¨å·ï¼ŒæŒ‚è½½åˆ°å®¹å™¨çš„æŸä¸ªç›®å½•  </span>
</span><span class="code-line">--volumes-from<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>       <span class="token comment"># ç»™å®¹å™¨æŒ‚è½½å…¶ä»–å®¹å™¨ä¸Šçš„å·ï¼ŒæŒ‚è½½åˆ°å®¹å™¨çš„æŸä¸ªç›®å½•</span>
</span><span class="code-line">--cap-add<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token comment"># æ·»åŠ æƒé™ï¼Œæƒé™æ¸…å•è¯¦è§ï¼šhttp://linux.die.net/man/7/capabilities  </span>
</span><span class="code-line">--cap-drop<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>           <span class="token comment"># åˆ é™¤æƒé™ï¼Œæƒé™æ¸…å•è¯¦è§ï¼šhttp://linux.die.net/man/7/capabilities  </span>
</span><span class="code-line">--cidfile<span class="token operator">=</span><span class="token string">""</span>            <span class="token comment"># è¿è¡Œå®¹å™¨åï¼Œåœ¨æŒ‡å®šæ–‡ä»¶ä¸­å†™å…¥å®¹å™¨PIDå€¼ï¼Œä¸€ç§å…¸å‹çš„ç›‘æ§ç³»ç»Ÿç”¨æ³•  </span>
</span><span class="code-line">--cpuset<span class="token operator">=</span><span class="token string">""</span>             <span class="token comment"># è®¾ç½®å®¹å™¨å¯ä»¥ä½¿ç”¨å“ªäº›CPUï¼Œæ­¤å‚æ•°å¯ä»¥ç”¨æ¥å®¹å™¨ç‹¬å CPU  </span>
</span><span class="code-line">--device<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>             <span class="token comment"># æ·»åŠ ä¸»æœºè®¾å¤‡ç»™å®¹å™¨ï¼Œç›¸å½“äºè®¾å¤‡ç›´é€š  </span>
</span><span class="code-line">--dns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>                <span class="token comment"># æŒ‡å®šå®¹å™¨çš„dnsæœåŠ¡å™¨  </span>
</span><span class="code-line">--dns-search<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>         <span class="token comment"># æŒ‡å®šå®¹å™¨çš„dnsæœç´¢åŸŸåï¼Œå†™å…¥åˆ°å®¹å™¨çš„/etc/resolv.confæ–‡ä»¶  </span>
</span><span class="code-line">--entrypoint<span class="token operator">=</span><span class="token string">""</span>         <span class="token comment"># è¦†ç›–imageçš„å…¥å£ç‚¹  </span>
</span><span class="code-line">--env-file<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>           <span class="token comment"># æŒ‡å®šç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œæ–‡ä»¶æ ¼å¼ä¸ºæ¯è¡Œä¸€ä¸ªç¯å¢ƒå˜é‡  </span>
</span><span class="code-line">--expose<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>             <span class="token comment"># æŒ‡å®šå®¹å™¨æš´éœ²çš„ç«¯å£ï¼Œå³ä¿®æ”¹é•œåƒçš„æš´éœ²ç«¯å£  </span>
</span><span class="code-line">--link<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>               <span class="token comment"># æŒ‡å®šå®¹å™¨é—´çš„å…³è”ï¼Œä½¿ç”¨å…¶ä»–å®¹å™¨çš„IPã€envç­‰ä¿¡æ¯  </span>
</span><span class="code-line">--lxc-conf<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>           <span class="token comment"># æŒ‡å®šå®¹å™¨çš„é…ç½®æ–‡ä»¶ï¼Œåªæœ‰åœ¨æŒ‡å®š--exec-driver=lxcæ—¶ä½¿ç”¨  </span>
</span><span class="code-line">--name<span class="token operator">=</span><span class="token string">""</span>               <span class="token comment"># æŒ‡å®šå®¹å™¨åå­—ï¼Œåç»­å¯ä»¥é€šè¿‡åå­—è¿›è¡Œå®¹å™¨ç®¡ç†ï¼Œlinksç‰¹æ€§éœ€è¦ä½¿ç”¨åå­—  </span>
</span><span class="code-line">--net<span class="token operator">=</span><span class="token string">"bridge"</span>          <span class="token comment"># å®¹å™¨ç½‘ç»œè®¾ç½®:</span>
</span><span class="code-line">                            <span class="token comment"># bridge ä½¿ç”¨docker daemonæŒ‡å®šçš„ç½‘æ¡¥     </span>
</span><span class="code-line">                            <span class="token comment"># host 	//å®¹å™¨ä½¿ç”¨ä¸»æœºçš„ç½‘ç»œ  </span>
</span><span class="code-line">                            <span class="token comment"># container:NAME_or_ID  >//ä½¿ç”¨å…¶ä»–å®¹å™¨çš„ç½‘è·¯ï¼Œå…±äº«IPå’ŒPORTç­‰ç½‘ç»œèµ„æº  </span>
</span><span class="code-line">                            <span class="token comment"># none å®¹å™¨ä½¿ç”¨è‡ªå·±çš„ç½‘ç»œï¼ˆç±»ä¼¼--net=bridgeï¼‰ï¼Œä½†æ˜¯ä¸è¿›è¡Œé…ç½® </span>
</span><span class="code-line">--privileged<span class="token operator">=</span>false      <span class="token comment"># æŒ‡å®šå®¹å™¨æ˜¯å¦ä¸ºç‰¹æƒå®¹å™¨ï¼Œç‰¹æƒå®¹å™¨æ‹¥æœ‰æ‰€æœ‰çš„capabilities  </span>
</span><span class="code-line">--restart<span class="token operator">=</span><span class="token string">"no"</span>          <span class="token comment"># æŒ‡å®šå®¹å™¨åœæ­¢åçš„é‡å¯ç­–ç•¥:</span>
</span><span class="code-line">                            <span class="token comment"># noï¼šå®¹å™¨é€€å‡ºæ—¶ä¸é‡å¯  </span>
</span><span class="code-line">                            <span class="token comment"># on-failureï¼šå®¹å™¨æ•…éšœé€€å‡ºï¼ˆè¿”å›å€¼éé›¶ï¼‰æ—¶é‡å¯ </span>
</span><span class="code-line">                            <span class="token comment"># alwaysï¼šå®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯  </span>
</span><span class="code-line">--rm<span class="token operator">=</span>false              <span class="token comment"># æŒ‡å®šå®¹å™¨åœæ­¢åè‡ªåŠ¨åˆ é™¤å®¹å™¨(ä¸æ”¯æŒä»¥docker run -då¯åŠ¨çš„å®¹å™¨)  </span>
</span><span class="code-line">--sig-proxy<span class="token operator">=</span>true        <span class="token comment"># è®¾ç½®ç”±ä»£ç†æ¥å—å¹¶å¤„ç†ä¿¡å·ï¼Œä½†æ˜¯SIGCHLDã€SIGSTOPå’ŒSIGKILLä¸èƒ½è¢«ä»£ç†</span>
</span></code><div onclick="copied(this)" data-code="-d, --detach=false      # æŒ‡å®šå®¹å™¨è¿è¡Œäºå‰å°è¿˜æ˜¯åå°ï¼Œé»˜è®¤ä¸ºfalse   
-i, --interactive=false # æ‰“å¼€STDINï¼Œç”¨äºæ§åˆ¶å°äº¤äº’  
-t, --tty=false         # åˆ†é…ttyè®¾å¤‡ï¼Œè¯¥å¯ä»¥æ”¯æŒç»ˆç«¯ç™»å½•ï¼Œé»˜è®¤ä¸ºfalse  
-u, --user=&#x22;&#x22;           # æŒ‡å®šå®¹å™¨çš„ç”¨æˆ·  
-a, --attach=[]         # ç™»å½•å®¹å™¨ï¼ˆå¿…é¡»æ˜¯ä»¥docker run -då¯åŠ¨çš„å®¹å™¨ï¼‰
-w, --workdir=&#x22;&#x22;        # æŒ‡å®šå®¹å™¨çš„å·¥ä½œç›®å½• 
-c, --cpu-shares=0      # è®¾ç½®å®¹å™¨CPUæƒé‡ï¼Œåœ¨CPUå…±äº«åœºæ™¯ä½¿ç”¨  
-e, --env=[]            # æŒ‡å®šç¯å¢ƒå˜é‡ï¼Œå®¹å™¨ä¸­å¯ä»¥ä½¿ç”¨è¯¥ç¯å¢ƒå˜é‡  
-m, --memory=&#x22;&#x22;         # æŒ‡å®šå®¹å™¨çš„å†…å­˜ä¸Šé™  
-P, --publish-all=false # æŒ‡å®šå®¹å™¨æš´éœ²çš„ç«¯å£  
-p, --publish=[]        # æŒ‡å®šå®¹å™¨æš´éœ²çš„ç«¯å£ 
-h, --hostname=&#x22;&#x22;       # æŒ‡å®šå®¹å™¨çš„ä¸»æœºå  
-v, --volume=[]         # ç»™å®¹å™¨æŒ‚è½½å­˜å‚¨å·ï¼ŒæŒ‚è½½åˆ°å®¹å™¨çš„æŸä¸ªç›®å½•  
--volumes-from=[]       # ç»™å®¹å™¨æŒ‚è½½å…¶ä»–å®¹å™¨ä¸Šçš„å·ï¼ŒæŒ‚è½½åˆ°å®¹å™¨çš„æŸä¸ªç›®å½•
--cap-add=[]            # æ·»åŠ æƒé™ï¼Œæƒé™æ¸…å•è¯¦è§ï¼šhttp://linux.die.net/man/7/capabilities  
--cap-drop=[]           # åˆ é™¤æƒé™ï¼Œæƒé™æ¸…å•è¯¦è§ï¼šhttp://linux.die.net/man/7/capabilities  
--cidfile=&#x22;&#x22;            # è¿è¡Œå®¹å™¨åï¼Œåœ¨æŒ‡å®šæ–‡ä»¶ä¸­å†™å…¥å®¹å™¨PIDå€¼ï¼Œä¸€ç§å…¸å‹çš„ç›‘æ§ç³»ç»Ÿç”¨æ³•  
--cpuset=&#x22;&#x22;             # è®¾ç½®å®¹å™¨å¯ä»¥ä½¿ç”¨å“ªäº›CPUï¼Œæ­¤å‚æ•°å¯ä»¥ç”¨æ¥å®¹å™¨ç‹¬å CPU  
--device=[]             # æ·»åŠ ä¸»æœºè®¾å¤‡ç»™å®¹å™¨ï¼Œç›¸å½“äºè®¾å¤‡ç›´é€š  
--dns=[]                # æŒ‡å®šå®¹å™¨çš„dnsæœåŠ¡å™¨  
--dns-search=[]         # æŒ‡å®šå®¹å™¨çš„dnsæœç´¢åŸŸåï¼Œå†™å…¥åˆ°å®¹å™¨çš„/etc/resolv.confæ–‡ä»¶  
--entrypoint=&#x22;&#x22;         # è¦†ç›–imageçš„å…¥å£ç‚¹  
--env-file=[]           # æŒ‡å®šç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œæ–‡ä»¶æ ¼å¼ä¸ºæ¯è¡Œä¸€ä¸ªç¯å¢ƒå˜é‡  
--expose=[]             # æŒ‡å®šå®¹å™¨æš´éœ²çš„ç«¯å£ï¼Œå³ä¿®æ”¹é•œåƒçš„æš´éœ²ç«¯å£  
--link=[]               # æŒ‡å®šå®¹å™¨é—´çš„å…³è”ï¼Œä½¿ç”¨å…¶ä»–å®¹å™¨çš„IPã€envç­‰ä¿¡æ¯  
--lxc-conf=[]           # æŒ‡å®šå®¹å™¨çš„é…ç½®æ–‡ä»¶ï¼Œåªæœ‰åœ¨æŒ‡å®š--exec-driver=lxcæ—¶ä½¿ç”¨  
--name=&#x22;&#x22;               # æŒ‡å®šå®¹å™¨åå­—ï¼Œåç»­å¯ä»¥é€šè¿‡åå­—è¿›è¡Œå®¹å™¨ç®¡ç†ï¼Œlinksç‰¹æ€§éœ€è¦ä½¿ç”¨åå­—  
--net=&#x22;bridge&#x22;          # å®¹å™¨ç½‘ç»œè®¾ç½®:
                            # bridge ä½¿ç”¨docker daemonæŒ‡å®šçš„ç½‘æ¡¥     
                            # host 	//å®¹å™¨ä½¿ç”¨ä¸»æœºçš„ç½‘ç»œ  
                            # container:NAME_or_ID  >//ä½¿ç”¨å…¶ä»–å®¹å™¨çš„ç½‘è·¯ï¼Œå…±äº«IPå’ŒPORTç­‰ç½‘ç»œèµ„æº  
                            # none å®¹å™¨ä½¿ç”¨è‡ªå·±çš„ç½‘ç»œï¼ˆç±»ä¼¼--net=bridgeï¼‰ï¼Œä½†æ˜¯ä¸è¿›è¡Œé…ç½® 
--privileged=false      # æŒ‡å®šå®¹å™¨æ˜¯å¦ä¸ºç‰¹æƒå®¹å™¨ï¼Œç‰¹æƒå®¹å™¨æ‹¥æœ‰æ‰€æœ‰çš„capabilities  
--restart=&#x22;no&#x22;          # æŒ‡å®šå®¹å™¨åœæ­¢åçš„é‡å¯ç­–ç•¥:
                            # noï¼šå®¹å™¨é€€å‡ºæ—¶ä¸é‡å¯  
                            # on-failureï¼šå®¹å™¨æ•…éšœé€€å‡ºï¼ˆè¿”å›å€¼éé›¶ï¼‰æ—¶é‡å¯ 
                            # alwaysï¼šå®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯  
--rm=false              # æŒ‡å®šå®¹å™¨åœæ­¢åè‡ªåŠ¨åˆ é™¤å®¹å™¨(ä¸æ”¯æŒä»¥docker run -då¯åŠ¨çš„å®¹å™¨)  
--sig-proxy=true        # è®¾ç½®ç”±ä»£ç†æ¥å—å¹¶å¤„ç†ä¿¡å·ï¼Œä½†æ˜¯SIGCHLDã€SIGSTOPå’ŒSIGKILLä¸èƒ½è¢«ä»£ç†
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="nginx"><a class="anchor" aria-hidden="true" tabindex="-1" href="#nginx"><span class="octicon octicon-link"></span></a><code>Nginx</code></h3>
    <p><a href="nginx.html">åœ¨ docker ä¸­éƒ¨ç½² Nginx</a></p>
    <h3 id="mysql"><a class="anchor" aria-hidden="true" tabindex="-1" href="#mysql"><span class="octicon octicon-link"></span></a><code>MySQL</code></h3>
    <p><a href="mysql.html">åœ¨ docker ä¸­éƒ¨ç½² MySQL</a></p>
    <h3 id="postgresql"><a class="anchor" aria-hidden="true" tabindex="-1" href="#postgresql"><span class="octicon octicon-link"></span></a><code>PostgreSQL</code></h3>
    <p><a href="postgres.html">åœ¨ docker ä¸­éƒ¨ç½² PostgreSQL</a></p>
    <h3 id="redis"><a class="anchor" aria-hidden="true" tabindex="-1" href="#redis"><span class="octicon octicon-link"></span></a><code>Redis</code></h3>
    <p><a href="redis.html">åœ¨ docker ä¸­éƒ¨ç½² Redis</a></p>
    <h3 id="elasticsearch"><a class="anchor" aria-hidden="true" tabindex="-1" href="#elasticsearch"><span class="octicon octicon-link"></span></a><code>Elasticsearch</code></h3>
    <p><a href="elasticsearch.html">åœ¨ docker ä¸­éƒ¨ç½² Elasticsearch</a></p>
    <h3 id="gitlab"><a class="anchor" aria-hidden="true" tabindex="-1" href="#gitlab"><span class="octicon octicon-link"></span></a><code>Gitlab</code></h3>
    <p><a href="gitlab.html">åœ¨ docker ä¸­éƒ¨ç½² Gitlab</a></p>
    <h3 id="rocketchat"><a class="anchor" aria-hidden="true" tabindex="-1" href="#rocketchat"><span class="octicon octicon-link"></span></a><code>Rocket.Chat</code></h3>
    <p><a href="rocket.chat.html">åœ¨ docker ä¸­éƒ¨ç½² Gitlab</a></p>
    <h3 id="rancher"><a class="anchor" aria-hidden="true" tabindex="-1" href="#rancher"><span class="octicon octicon-link"></span></a><code>Rancher</code></h3>
    <p><a href="rancher.html">åœ¨ docker ä¸­éƒ¨ç½² Rancher</a></p>
    <h3 id="portainer"><a class="anchor" aria-hidden="true" tabindex="-1" href="#portainer"><span class="octicon octicon-link"></span></a><code>Portainer</code></h3>
    <p><a href="portainer.html">åœ¨ docker ä¸­éƒ¨ç½² Portainer</a></p>
    <h3 id="sourcegraph"><a class="anchor" aria-hidden="true" tabindex="-1" href="#sourcegraph"><span class="octicon octicon-link"></span></a><code>Sourcegraph</code></h3>
    <p><a href="sourcegraph.html">åœ¨ docker ä¸­éƒ¨ç½² Sourcegraph</a></p>
    <h3 id="mattermost"><a class="anchor" aria-hidden="true" tabindex="-1" href="#mattermost"><span class="octicon octicon-link"></span></a><code>Mattermost</code></h3>
    <p><a href="mattermost.html">åœ¨ docker ä¸­éƒ¨ç½² Mattermost</a></p>
    <h3 id="seaweedfs"><a class="anchor" aria-hidden="true" tabindex="-1" href="#seaweedfs"><span class="octicon octicon-link"></span></a><code>SeaweedFS</code></h3>
    <p><a href="seaweedfs.html">åœ¨ docker ä¸­éƒ¨ç½² SeaweedFS</a></p>
    <h3 id="nps"><a class="anchor" aria-hidden="true" tabindex="-1" href="#nps"><span class="octicon octicon-link"></span></a><code>NPS</code></h3>
    <p><a href="nps.html">åœ¨ docker ä¸­æ­å»ºå†…ç½‘ç©¿é€æœåŠ¡å™¨ï¼Œå¸¦WEBç®¡ç†</a></p>
    <h3 id="humpback"><a class="anchor" aria-hidden="true" tabindex="-1" href="#humpback"><span class="octicon octicon-link"></span></a><code>Humpback</code></h3>
    <p>é¦–å…ˆåˆ›å»ºæ”¾æŒä¹…åŒ–æ•°æ®æ–‡ä»¶å¤¹ï¼Œ<code>mkdir -p /opt/app/humpback-web</code>ï¼Œé‡Œé¢å­˜æ”¾æŒä¹…åŒ–æ•°æ®æ–‡ä»¶ï¼Œä¼šå­˜å‚¨ç«™ç‚¹ç®¡ç†å’Œåˆ†ç»„ä¿¡æ¯ï¼Œå¯åŠ¨åè¯·å¦¥å–„ä¿å­˜ã€‚</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># åˆ›å»ºæ”¾æŒä¹…åŒ–æ•°æ®æ–‡ä»¶å¤¹</span>
</span><span class="code-line"><span class="token function">mkdir</span> -p /opt/app/humpback-web
</span><span class="code-line"><span class="token comment"># ä¸‹è½½humpback-webé•œåƒåˆ°æœ¬åœ°</span>
</span><span class="code-line"><span class="token function">docker</span> pull humpbacks/humpback-web:1.0.0
</span><span class="code-line"><span class="token comment"># å¯åŠ¨ humpback-web å®¹å™¨ï¼Œå°†å®¹å™¨å‘½åä¸º humpback-web</span>
</span><span class="code-line"><span class="token function">docker</span> run -d --net<span class="token operator">=</span>host --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
</span><span class="code-line"> -e <span class="token assign-left variable">HUMPBACK_LISTEN_PORT</span><span class="token operator">=</span><span class="token number">7001</span> <span class="token punctuation">\</span>
</span><span class="code-line"> -v /opt/app/humpback-web/dbFiles:/humpback-web/dbFiles <span class="token punctuation">\</span>
</span><span class="code-line"> --name humpback-web <span class="token punctuation">\</span>
</span><span class="code-line"> humpbacks/humpback-web:1.0.0
</span></code><div onclick="copied(this)" data-code="# åˆ›å»ºæ”¾æŒä¹…åŒ–æ•°æ®æ–‡ä»¶å¤¹
mkdir -p /opt/app/humpback-web
# ä¸‹è½½humpback-webé•œåƒåˆ°æœ¬åœ°
docker pull humpbacks/humpback-web:1.0.0
# å¯åŠ¨ humpback-web å®¹å™¨ï¼Œå°†å®¹å™¨å‘½åä¸º humpback-web
docker run -d --net=host --restart=always \
 -e HUMPBACK_LISTEN_PORT=7001 \
 -v /opt/app/humpback-web/dbFiles:/humpback-web/dbFiles \
 --name humpback-web \
 humpbacks/humpback-web:1.0.0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>è®¿é—®ç«™ç‚¹ï¼Œæ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼š<a href="http://192.168.99.100:7001/">http://192.168.99.100:7001</a> ï¼Œé»˜è®¤è´¦æˆ·ï¼š<code>admin</code> å¯†ç ï¼š<code>123456</code></p>
    <h3 id="seafile"><a class="anchor" aria-hidden="true" tabindex="-1" href="#seafile"><span class="octicon octicon-link"></span></a><code>Seafile</code></h3>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line"><span class="token function">docker</span> run -d --name seafile <span class="token punctuation">\</span>
</span><span class="code-line">  -e <span class="token assign-left variable">SEAFILE_SERVER_HOSTNAME</span><span class="token operator">=</span>seafile.example.com <span class="token punctuation">\</span>
</span><span class="code-line">  -v /opt/seafile-data:/shared <span class="token punctuation">\</span>
</span><span class="code-line">  -p <span class="token number">80</span>:80 <span class="token punctuation">\</span>
</span><span class="code-line">  seafileltd/seafile:latest
</span></code><div onclick="copied(this)" data-code="docker run -d --name seafile \
  -e SEAFILE_SERVER_HOSTNAME=seafile.example.com \
  -v /opt/seafile-data:/shared \
  -p 80:80 \
  seafileltd/seafile:latest
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line"><span class="token function">docker</span> run -d --name seafile <span class="token punctuation">\</span>
</span><span class="code-line">  -e <span class="token assign-left variable">SEAFILE_SERVER_HOSTNAME</span><span class="token operator">=</span>pan.showgold.com <span class="token punctuation">\</span>
</span><span class="code-line">  -e <span class="token assign-left variable">SEAFILE_ADMIN_EMAIL</span><span class="token operator">=</span>wcj@nihaosi.com <span class="token punctuation">\</span>
</span><span class="code-line">  -e <span class="token assign-left variable">SEAFILE_ADMIN_PASSWORD</span><span class="token operator">=</span>wcj@nihaosi.com <span class="token punctuation">\</span>
</span><span class="code-line">  -v <span class="token environment constant">$HOME</span>/_docker/seafile-data:/shared <span class="token punctuation">\</span>
</span><span class="code-line">  -p <span class="token number">80</span>:80 <span class="token punctuation">\</span>
</span><span class="code-line">  seafileltd/seafile:latest
</span></code><div onclick="copied(this)" data-code="docker run -d --name seafile \
  -e SEAFILE_SERVER_HOSTNAME=pan.showgold.com \
  -e SEAFILE_ADMIN_EMAIL=wcj@nihaosi.com \
  -e SEAFILE_ADMIN_PASSWORD=wcj@nihaosi.com \
  -v $HOME/_docker/seafile-data:/shared \
  -p 80:80 \
  seafileltd/seafile:latest
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="æ›´å¤š"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ›´å¤š"><span class="octicon octicon-link"></span></a>æ›´å¤š</h3>
    <p><a href="docker/">æ›´å¤š docker å·¥å…·éƒ¨ç½²ï¼Œåœ¨ docker ç›®å½•ä¸­</a></p>
    <h2 id="å¸è½½æ—§çš„ç‰ˆæœ¬"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å¸è½½æ—§çš„ç‰ˆæœ¬"><span class="octicon octicon-link"></span></a>å¸è½½æ—§çš„ç‰ˆæœ¬</h2>
    <p>ç§»é™¤æ—§çš„ç‰ˆæœ¬</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
</span><span class="code-line">  docker-client <span class="token punctuation">\</span>
</span><span class="code-line">  docker-client-latest <span class="token punctuation">\</span>
</span><span class="code-line">  docker-common <span class="token punctuation">\</span>
</span><span class="code-line">  docker-latest <span class="token punctuation">\</span>
</span><span class="code-line">  docker-latest-logrotate <span class="token punctuation">\</span>
</span><span class="code-line">  docker-logrotate <span class="token punctuation">\</span>
</span><span class="code-line">  docker-selinux <span class="token punctuation">\</span>
</span><span class="code-line">  docker-engine-selinux <span class="token punctuation">\</span>
</span><span class="code-line">  docker-engine
</span></code><div onclick="copied(this)" data-code="$ sudo yum remove docker \
  docker-client \
  docker-client-latest \
  docker-common \
  docker-latest \
  docker-latest-logrotate \
  docker-logrotate \
  docker-selinux \
  docker-engine-selinux \
  docker-engine
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="é”™è¯¯å¤„ç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é”™è¯¯å¤„ç†"><span class="octicon octicon-link"></span></a>é”™è¯¯å¤„ç†</h2>
    <p>Create more free space in thin pool or use dm.min_free_space option to change behavior</p>
    <blockquote>
      <p>ç‰¹åˆ«æ…ç”¨ï¼Œä¸œè¥¿éƒ½æ²¡æœ‰äº†ï¼Œæ³¨æ„å¤‡ä»½å“¦ã€‚<a href="https://github.com/moby/moby/issues/3182#issuecomment-256532928">https://github.com/moby/moby/issues/3182#issuecomment-256532928</a></p>
    </blockquote>
    <p><strong>é•œåƒæ‹‰ä¸ä¸‹æ¥</strong></p>
    <p>ä¿®æ”¹ Docker <code>daemon.json</code> é…ç½® macOS: <code>/etc/docker/daemon.json</code>ï¼ŒLinux: <code>~/.docker/daemon.json</code></p>
    <pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token string-property property">"registry-mirrors"</span><span class="token operator">:</span><span class="token punctuation">[</span>
</span><span class="code-line">     <span class="token string">"https://docker.mirrors.ustc.edu.cn"</span><span class="token punctuation">,</span>
</span><span class="code-line">     <span class="token string">"https://hub-mirror.c.163.com"</span><span class="token punctuation">,</span>
</span><span class="code-line">     <span class="token string">"https://mirror.baidubce.com"</span><span class="token punctuation">,</span>
</span><span class="code-line">     <span class="token string">"https://registry.docker-cn.com"</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token string-property property">"insecure-registries"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">     <span class="token string">"192.168.188.111:2021"</span>
</span><span class="code-line">  <span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="{
  &#x22;registry-mirrors&#x22;:[
     &#x22;https://docker.mirrors.ustc.edu.cn&#x22;,
     &#x22;https://hub-mirror.c.163.com&#x22;,
     &#x22;https://mirror.baidubce.com&#x22;,
     &#x22;https://registry.docker-cn.com&#x22;
  ],
  &#x22;insecure-registries&#x22;: [
     &#x22;192.168.188.111:2021&#x22;
  ]
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="å‚è€ƒèµ„æ–™"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å‚è€ƒèµ„æ–™"><span class="octicon octicon-link"></span></a>å‚è€ƒèµ„æ–™</h2>
    <h3 id="å®˜æ–¹è‹±æ–‡èµ„æº"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å®˜æ–¹è‹±æ–‡èµ„æº"><span class="octicon octicon-link"></span></a>å®˜æ–¹è‹±æ–‡èµ„æº</h3>
    <ul>
      <li>Dockerå®˜ç½‘ï¼š<a href="http://www.docker.com/">http://www.docker.com</a></li>
      <li>Docker windowså…¥é—¨ï¼š<a href="https://docs.docker.com/windows/">https://docs.docker.com/windows/</a></li>
      <li>Docker Linux å…¥é—¨ï¼š<a href="https://docs.docker.com/linux/">https://docs.docker.com/linux/</a></li>
      <li>Docker mac å…¥é—¨ï¼š<a href="https://docs.docker.com/mac/">https://docs.docker.com/mac/</a></li>
      <li>Docker ç”¨æˆ·æŒ‡å¼•ï¼š<a href="https://docs.docker.com/engine/userguide/">https://docs.docker.com/engine/userguide/</a></li>
      <li>Docker å®˜æ–¹åšå®¢ï¼š<a href="http://blog.docker.com/">http://blog.docker.com/</a></li>
      <li>Docker Hub: <a href="https://hub.docker.com/">https://hub.docker.com/</a></li>
      <li>Dockerå¼€æºï¼š <a href="https://www.docker.com/open-source">https://www.docker.com/open-source</a></li>
    </ul>
    <h3 id="ä¸­æ–‡èµ„æº"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ä¸­æ–‡èµ„æº"><span class="octicon octicon-link"></span></a>ä¸­æ–‡èµ„æº</h3>
    <ul>
      <li>Dockerä¸­æ–‡ç½‘ç«™ï¼š<a href="http://www.docker.org.cn/">http://www.docker.org.cn</a></li>
      <li>Dockerä¸­æ–‡æ–‡æ¡£ï¼š<a href="http://www.dockerinfo.net/document">http://www.dockerinfo.net/document</a></li>
      <li>Dockerå®‰è£…æ‰‹å†Œï¼š<a href="http://www.docker.org.cn/book/install.html">http://www.docker.org.cn/book/install.html</a></li>
      <li>ä¸€å°æ—¶Dockeræ•™ç¨‹ ï¼š<a href="https://blog.csphere.cn/archives/22">https://blog.csphere.cn/archives/22</a></li>
      <li>Dockerä¸­æ–‡æŒ‡å—ï¼š<a href="http://www.widuu.com/chinese_docker/index.html">http://www.widuu.com/chinese_docker/index.html</a></li>
    </ul>
    <h3 id="å…¶å®ƒèµ„æº"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å…¶å®ƒèµ„æº"><span class="octicon octicon-link"></span></a>å…¶å®ƒèµ„æº</h3>
    <ul>
      <li><a href="https://github.com/eon01/DockerCheatSheet">Docker å¿«é€Ÿæ‰‹å†Œï¼</a></li>
      <li><a href="http://www.runoob.com/docker/docker-tutorial.html">Docker æ•™ç¨‹</a></li>
      <li><a href="https://www.gitbook.com/book/yeasy/docker_practice">Docker ä»å…¥é—¨åˆ°å®è·µ</a></li>
      <li><a href="http://blog.csdn.net/zhangchao19890805/article/details/52756865">MySQL Docker å•ä¸€æœºå™¨ä¸Šå¦‚ä½•é…ç½®è‡ªåŠ¨å¤‡ä»½</a></li>
      <li><a href="http://dockone.io/article/834">ä½¿ç”¨Docker Composeç®¡ç†å¤šä¸ªå®¹å™¨</a></li>
      <li><a href="https://segmentfault.com/t/docker">https://segmentfault.com/t/docker</a></li>
      <li><a href="https://github.com/docker/docker">https://github.com/docker/docker</a></li>
      <li><a href="https://wiki.openstack.org/wiki/Docker">https://wiki.openstack.org/wiki/Docker</a></li>
      <li><a href="https://wiki.archlinux.org/index.php/Docker">https://wiki.archlinux.org/index.php/Docker</a></li>
    </ul>
  <style>.markdown-body pre .copied {
  display: flex;
  position: absolute;
  cursor: pointer;
  color: #a5afbb;
  top: 6px;
  right: 6px;
  border-radius: 5px;
  background: #82828226;
  padding: 6px;
  font-size: 12px;
  transition: all .3s;
}
.markdown-body pre .copied:not(.active) {
  visibility: hidden;
}
.markdown-body pre:hover .copied {
  visibility: visible;
}
.markdown-body pre:hover .copied:hover {
  background: #4caf50;
  color: #fff;
}
.markdown-body pre:hover .copied:active,
.markdown-body pre .copied.active {
  background: #2e9b33;
  color: #fff;
}
.markdown-body pre .copied .octicon-copy {
  display: block;
}
.markdown-body pre .copied .octicon-check {
  display: none;
}
.markdown-body pre .active .octicon-copy {
  display: none;
}
.markdown-body pre .active .octicon-check {
  display: block;
}</style><script>/*! @uiw/copy-to-clipboard v1.0.12 | MIT (c) 2021 Kenny Wang | https://github.com/uiwjs/copy-to-clipboard.git */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).copyTextToClipboard=t()}(this,(function(){"use strict";return function(e,t){const o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style={position:"absolute",left:"-9999px"},document.body.appendChild(o);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);o.select();let c=!1;try{c=!!document.execCommand("copy")}catch(e){c=!1}document.body.removeChild(o),n&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),t&&t(c)}}));

function copied(target, str) {
  target.classList.add('active');
  copyTextToClipboard(target.dataset.code, function() {
    setTimeout(() => {
      target.classList.remove('active');
    }, 2000);
  });
}</script></markdown-style></body>
</html>
