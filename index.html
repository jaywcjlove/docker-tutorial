<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Docker å…¥é—¨æ•™ç¨‹</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta description="Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè€Œä¸€ä¸ªå®¹å™¨å…¶å®æ˜¯ä¸€ä¸ªè™šæ‹ŸåŒ–çš„ç‹¬ç«‹çš„ç¯å¢ƒï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ã€‚">
    <meta keywords="docker,tutorial,containers">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ³</text></svg>">
    <style>.task-list-item { list-style-type: none;}.task-list-item label { font-weight: 400;}.task-list-item.enabled label { cursor: pointer;}.task-list-item+.task-list-item { margin-top: 3px;}.task-list-item .handle { display: none;}.task-list-item-checkbox { margin: 0 .2em .25em -1.6em; vertical-align: middle;}.wmde-markdown h1,.wmde-markdown h2,.wmde-markdown h3,.wmde-markdown h4,.wmde-markdown h5,.wmde-markdown h6 { font-weight: 600; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;}.wmde-markdown h1 .anchor,.wmde-markdown h2 .anchor,.wmde-markdown h3 .anchor,.wmde-markdown h4 .anchor,.wmde-markdown h5 .anchor,.wmde-markdown h6 .anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1;}.wmde-markdown h1 .octicon-link,.wmde-markdown h2 .octicon-link,.wmde-markdown h3 .octicon-link,.wmde-markdown h4 .octicon-link,.wmde-markdown h5 .octicon-link,.wmde-markdown h6 .octicon-link { visibility: hidden; vertical-align: middle;}.wmde-markdown h1:hover .octicon-link,.wmde-markdown h2:hover .octicon-link,.wmde-markdown h3:hover .octicon-link,.wmde-markdown h4:hover .octicon-link,.wmde-markdown h5:hover .octicon-link,.wmde-markdown h6:hover .octicon-link { visibility: visible;}.github-corner:hover .octo-arm { -webkit-animation: octocat-wave .56s ease-in-out; animation: octocat-wave .56s ease-in-out;}@-webkit-keyframes octocat-wave { 0%, to { -webkit-transform: rotate(0); transform: rotate(0); } 20%, 60% { -webkit-transform: rotate(-25deg); transform: rotate(-25deg); } 40%, 80% { -webkit-transform: rotate(10deg); transform: rotate(10deg); }}@keyframes octocat-wave { 0%, to { -webkit-transform: rotate(0); transform: rotate(0) } 20%, 60% { -webkit-transform: rotate(-25deg); transform: rotate(-25deg); } 40%, 80% { -webkit-transform: rotate(10deg); transform: rotate(10deg); }}.wmde-markdown { font-size: 16px; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji; max-width: 1024px; margin: 28px auto 60px auto;}.wmde-markdown > :first-child { margin-top: 0 !important;}.wmde-markdown > :last-child { margin-bottom: 0 !important;}.wmde-markdown code[class*="language-"],.wmde-markdown pre[class*="language-"] { color: black; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; word-wrap: normal; -webkit-hyphens: none; hyphens: none;}.wmde-markdown pre code { background: none; overflow-wrap: normal; white-space: inherit; -moz-tab-size: 2; tab-size: 2; padding: 16px; font-size: 95%; line-height: 1.5; display: block; text-shadow: 0 1px #fff;}.wmde-markdown pre { margin-bottom: 18px; font-size: 85%; line-height: 1.45; position: relative; overflow-x: auto; background-color: #f6f8fa; border-radius: 3px;}.wmde-markdown code,.wmde-markdown tt { background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; font-size: 85%; margin: 0; padding: 0.2em 0.4em;}.wmde-markdown pre,.wmde-markdown code,.wmde-markdown tt { font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;}.wmde-markdown img { max-width: 100%;}.wmde-markdown input { vertical-align: middle; margin: 0 0.2em 0.25em -1.6em;}.wmde-markdown input + p { display: inline;}.wmde-markdown h1,.wmde-markdown h2 { border-bottom: 1px solid #eaecef; padding-bottom: 0.3em;}.wmde-markdown h1,.wmde-markdown h2,.wmde-markdown h3,.wmde-markdown h4,.wmde-markdown h5,.wmde-markdown h6 { font-weight: 600; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;}.wmde-markdown h1 .anchor,.wmde-markdown h2 .anchor,.wmde-markdown h3 .anchor,.wmde-markdown h4 .anchor,.wmde-markdown h5 .anchor,.wmde-markdown h6 .anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1;}.wmde-markdown h1 .octicon-link,.wmde-markdown h2 .octicon-link,.wmde-markdown h3 .octicon-link,.wmde-markdown h4 .octicon-link,.wmde-markdown h5 .octicon-link,.wmde-markdown h6 .octicon-link { visibility: hidden; vertical-align: middle;}.wmde-markdown h1:hover .octicon-link,.wmde-markdown h2:hover .octicon-link,.wmde-markdown h3:hover .octicon-link,.wmde-markdown h4:hover .octicon-link,.wmde-markdown h5:hover .octicon-link,.wmde-markdown h6:hover .octicon-link { visibility: visible;}.wmde-markdown h1 { font-size: 2em;}.wmde-markdown h2 { font-size: 1.5em;}.wmde-markdown h3 { font-size: 1.25em;}.wmde-markdown h4 { font-size: 1em;}.wmde-markdown h5 { font-size: 0.875em;}.wmde-markdown h6 { font-size: 0.85em;}.wmde-markdown ol,.wmde-markdown ul { padding-left: 2em;}.wmde-markdown ol > p,.wmde-markdown ul > p { margin-bottom: 0;}.wmde-markdown ul { margin-bottom: 16px; margin-top: 0; list-style: initial;}.wmde-markdown > blockquote,.wmde-markdown > blockquote blockquote { margin: 0; border-left: 0.25em solid #dfe2e5; color: #6a737d; padding: 0 1em;}.wmde-markdown > blockquote > :last-child,.wmde-markdown > blockquote blockquote > :last-child { margin-bottom: 0;}.wmde-markdown > blockquote > :first-child,.wmde-markdown > blockquote blockquote > :first-child { margin-top: 0;}.wmde-markdown hr { margin: 1.5em auto; border: 0; border-top: 2px dotted #eee; height: 1px;}.wmde-markdown > table,.wmde-markdown > blockquote table { display: block; overflow: auto; width: 100%; border-collapse: collapse; border-spacing: 0; font-size: 14px;}.wmde-markdown > table tr,.wmde-markdown > blockquote table tr { background-color: #fff; border-top: 1px solid #c6cbd1;}.wmde-markdown > table td,.wmde-markdown > blockquote table td,.wmde-markdown > table th,.wmde-markdown > blockquote table th { border: 1px solid #dfe2e5; padding: 6px 13px;}.wmde-markdown blockquote,.wmde-markdown details,.wmde-markdown dl,.wmde-markdown ol,.wmde-markdown p,.wmde-markdown pre,.wmde-markdown table,.wmde-markdown ul { margin-bottom: 16px; margin-top: 0;}.wmde-markdown a { color: #0366d6; text-decoration: none;}.wmde-markdown a:hover { text-decoration: underline;}.wmde-markdown .namespace { opacity: 0.7;}.wmde-markdown .token.important { font-weight: normal;}.wmde-markdown .token.bold { font-weight: bold;}.wmde-markdown .token.italic { font-style: italic;}.wmde-markdown .token.entity { cursor: help;}.wmde-markdown kbd { background-color: #fafbfc; border-bottom-color: #d1d5da; border: 1px solid #d1d5da; border-radius: 3px; box-shadow: inset 0 -1px 0 #d1d5da; color: #56595d; display: inline-block; font-size: 10px; font-family: ui-monospace, SFMono-Regular, SF Mono, Consolas, Liberation Mono, Menlo, monospace; line-height: 10px; padding: 2px 4px; vertical-align: middle;}.wmde-markdown .token.tag .attr-value { color: #032f62;}.wmde-markdown .token.property,.wmde-markdown .token.tag,.wmde-markdown .token.boolean,.wmde-markdown .token.number,.wmde-markdown .token.function-name,.wmde-markdown .token.constant,.wmde-markdown .token.symbol,.wmde-markdown .token.deleted { color: #0060c9;}.wmde-markdown .token.punctuation { color: #a0a0a0;}.wmde-markdown code[class*="language-"] { color: black;}.wmde-markdown code[class*="language-"] .token.selector,.wmde-markdown code[class*="language-"] .token.attr-name,.wmde-markdown code[class*="language-"] .token.string,.wmde-markdown code[class*="language-"] .token.char,.wmde-markdown code[class*="language-"] .token.function,.wmde-markdown code[class*="language-"] .token.builtin { color: #6f42c1;}.wmde-markdown code[class*="language-"] .token.inserted { color: #22863a; background-color: #f0fff4;}.wmde-markdown code[class*="language-"] .token.deleted { color: #b31d28; background-color: #ffeef0;}.wmde-markdown code[class*="language-"] .token.class-name { color: #6f42c1;}.wmde-markdown code[class*="language-"] .code-block { color: #032f62;}.wmde-markdown code[class*="language-"] .token.comment,.wmde-markdown code[class*="language-"] .token.block-comment,.wmde-markdown code[class*="language-"] .token.prolog,.wmde-markdown code[class*="language-"] .token.doctype,.wmde-markdown code[class*="language-"] .token.cdata { color: #7D8B99;}.wmde-markdown code[class*="language-"] .token.punctuation { color: #a0a0a0;}.wmde-markdown code[class*="language-"] .token.operator,.wmde-markdown code[class*="language-"] .token.entity,.wmde-markdown code[class*="language-"] .token.url,.wmde-markdown code[class*="language-"] .token.variable { color: #d73a49; background: rgba(255, 255, 255, 0.5);}.wmde-markdown code[class*="language-"] .token.atrule,.wmde-markdown code[class*="language-"] .token.attr-value { color: #004698;}.wmde-markdown code[class*="language-"] .token.keyword { color: #d63200;}.wmde-markdown code[class*="language-"] .token.regex,.wmde-markdown code[class*="language-"] .token.important { color: #e90;}.wmde-markdown code[class*="language-"] .token.string { color: #0a53c1;}</style>
    <style></style>
  </head>
  <body><div class="wmde-markdown"><a aria-label="View source on GitHub" target="__blank" class="github-corner" href="https://github.com/jaywcjlove/docker-tutorial"><svg width="54" height="54" viewBox="0 0 250 250" aria-hidden="true" style="fill: rgb(32, 34, 37); color: rgb(255, 255, 255); position: fixed; z-index: 99999; border: 0px; top: 0px; right: 0px;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path style="transform-origin: 130px 106px;" class="octo-arm" fill="currentColor" d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"></path><path class="octo-body" fill="currentColor" d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"></path></svg></a>
    <p align="center">
      <img width="130" align="center" src="img/logo.svg">
    </p>
    <h1 align="center" id="dockerå…¥é—¨æ•™ç¨‹"><a class="anchor" aria-hidden="true" tabindex="-1" href="#dockerå…¥é—¨æ•™ç¨‹"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Dockerå…¥é—¨æ•™ç¨‹</h1>
    <p>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè€Œä¸€ä¸ª<ruby>å®¹å™¨<rt>containers</rt></ruby>å…¶å®æ˜¯ä¸€ä¸ªè™šæ‹ŸåŒ–çš„ç‹¬ç«‹çš„ç¯å¢ƒï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ã€‚</p>
    <ul>
      <li>Docker çš„å±€é™æ€§ä¹‹ä¸€ï¼Œå®ƒåªèƒ½ç”¨åœ¨ 64 ä½çš„æ“ä½œç³»ç»Ÿä¸Šã€‚</li>
    </ul>
    <h1 id="ç›®å½•"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ç›®å½•"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>ç›®å½•</h1><!-- TOC -->
    <ul>
      <li><a href="#%E7%9B%AE%E5%BD%95">ç›®å½•</a>
        <ul>
          <li><a href="#%E6%96%B0%E7%89%88%E6%9C%AC%E5%AE%89%E8%A3%85">æ–°ç‰ˆæœ¬å®‰è£…</a></li>
          <li><a href="#%E6%97%A7%E7%89%88%E6%9C%AC%E5%AE%89%E8%A3%85">æ—§ç‰ˆæœ¬å®‰è£…</a></li>
          <li><a href="#%E5%91%BD%E4%BB%A4%E4%BB%8B%E7%BB%8D">å‘½ä»¤ä»‹ç»</a></li>
          <li><a href="#%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86">æœåŠ¡ç®¡ç†</a></li>
          <li><a href="#%E9%95%9C%E5%83%8F%E7%AE%A1%E7%90%86">é•œåƒç®¡ç†</a>
            <ul>
              <li><a href="#%E9%80%9A%E8%BF%87%E5%AE%B9%E5%99%A8%E5%88%9B%E5%BB%BA%E9%95%9C%E5%83%8F">é€šè¿‡å®¹å™¨åˆ›å»ºé•œåƒ</a></li>
              <li><a href="#%E9%80%9A%E8%BF%87dockerfile%E5%88%9B%E5%BB%BA%E9%95%9C%E5%83%8F">é€šè¿‡Dockerfileåˆ›å»ºé•œåƒ</a></li>
              <li><a href="#%E5%8F%91%E5%B8%83%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F">å‘å¸ƒè‡ªå·±çš„é•œåƒ</a></li>
              <li><a href="#%E9%95%9C%E5%83%8F%E4%B8%AD%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6">é•œåƒä¸­å®‰è£…è½¯ä»¶</a></li>
            </ul>
          </li>
          <li><a href="#%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86">å®¹å™¨ç®¡ç†</a>
            <ul>
              <li><a href="#%E5%AE%B9%E5%99%A8%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86">å®¹å™¨æœåŠ¡ç®¡ç†</a></li>
              <li><a href="#%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8">è¿›å…¥å®¹å™¨</a></li>
            </ul>
          </li>
          <li><a href="#%E6%96%87%E4%BB%B6%E6%8B%B7%E8%B4%9D">æ–‡ä»¶æ‹·è´</a></li>
          <li><a href="#docker%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E6%90%AD%E5%BB%BA">Dockerç§æœ‰ä»“åº“æ­å»º</a>
            <ul>
              <li><a href="#registry"><code>registry</code></a></li>
              <li><a href="#harbor"><code>Harbor</code></a></li>
            </ul>
          </li>
          <li><a href="#%E4%BD%BF%E7%94%A8docker%E5%AE%9E%E6%88%98">ä½¿ç”¨Dockerå®æˆ˜</a>
            <ul>
              <li><a href="#nginx"><code>Nginx</code></a></li>
              <li><a href="#mysql"><code>MySQL</code></a></li>
              <li><a href="#redis"><code>Redis</code></a></li>
              <li><a href="#elasticsearch"><code>Elasticsearch</code></a></li>
              <li><a href="#gitlab"><code>Gitlab</code></a></li>
              <li><a href="#rocketchat"><code>Rocket.Chat</code></a></li>
              <li><a href="#rancher"><code>Rancher</code></a></li>
              <li><a href="#humpback"><code>Humpback</code></a></li>
              <li><a href="#seafile"><code>Seafile</code></a></li>
              <li><a href="#%E6%9B%B4%E5%A4%9A">æ›´å¤š</a></li>
            </ul>
          </li>
          <li><a href="#%E5%8D%B8%E8%BD%BD%E6%97%A7%E7%9A%84%E7%89%88%E6%9C%AC">å¸è½½æ—§çš„ç‰ˆæœ¬</a></li>
          <li><a href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86">é”™è¯¯å¤„ç†</a></li>
          <li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a>
            <ul>
              <li><a href="#%E5%AE%98%E6%96%B9%E8%8B%B1%E6%96%87%E8%B5%84%E6%BA%90">å®˜æ–¹è‹±æ–‡èµ„æº</a></li>
              <li><a href="#%E4%B8%AD%E6%96%87%E8%B5%84%E6%BA%90">ä¸­æ–‡èµ„æº</a></li>
              <li><a href="#%E5%85%B6%E5%AE%83%E8%B5%84%E6%BA%90">å…¶å®ƒèµ„æº</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul><!-- /TOC -->
    <p>Docker ä» <code>1.13</code> ç‰ˆæœ¬ä¹‹åé‡‡ç”¨æ—¶é—´çº¿çš„æ–¹å¼ä½œä¸ºç‰ˆæœ¬å·ï¼Œåˆ†ä¸ºç¤¾åŒºç‰ˆ <code>CE</code> å’Œä¼ä¸šç‰ˆ <code>EE</code>ï¼Œç¤¾åŒºç‰ˆæ˜¯å…è´¹æä¾›ç»™ä¸ªäººå¼€å‘è€…å’Œå°å‹å›¢ä½“ä½¿ç”¨çš„ï¼Œä¼ä¸šç‰ˆä¼šæä¾›é¢å¤–çš„æ”¶è´¹æœåŠ¡ï¼Œæ¯”å¦‚ç»è¿‡å®˜æ–¹æµ‹è¯•è®¤è¯è¿‡çš„åŸºç¡€è®¾æ–½ã€å®¹å™¨ã€æ’ä»¶ç­‰ã€‚</p>
    <p>ç¤¾åŒºç‰ˆæŒ‰ç…§ <code>stable</code> å’Œ <code>edge</code> ä¸¤ç§æ–¹å¼å‘å¸ƒï¼Œæ¯ä¸ªå­£åº¦æ›´æ–° <code>stable</code> ç‰ˆæœ¬ï¼Œå¦‚ <code>17.06</code>ï¼Œ<code>17.09</code>ï¼›æ¯ä¸ªæœˆä»½æ›´æ–° <code>edge</code> ç‰ˆæœ¬ï¼Œå¦‚<code>17.09</code>ï¼Œ<code>17.10</code>ã€‚</p>
    <p>ä¸‹é¢æ•™ç¨‹è¿è¡Œåœ¨ <code>Centos</code> ä¸­</p>
    <h2 id="æ–°ç‰ˆæœ¬å®‰è£…"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ–°ç‰ˆæœ¬å®‰è£…"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>æ–°ç‰ˆæœ¬å®‰è£…</h2>
    <p>Docker å®˜æ–¹çš„å®‰è£…æ•™ç¨‹ï¼Œ<a href="https://docs.docker.com/install/linux/docker-ce/centos/">åœ¨è¿™é‡Œ</a>ã€‚</p>
    <p>å®‰è£…ä¸€äº›å¿…è¦çš„ç³»ç»Ÿå·¥å…·</p>
    <pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2
</code></pre>
    <p>æ·»åŠ è½¯ä»¶æºä¿¡æ¯</p>
    <pre class="language-bash"><code class="language-bash"><span class="token comment"># docker å®˜æ–¹æº</span>
<span class="token function">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
<span class="token comment"># é˜¿é‡Œäº‘æº</span>
<span class="token function">sudo</span> yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre>
    <p>å¯é€‰ï¼šå¯ç”¨ <code>edge</code> å’Œ <code>test</code> å­˜å‚¨åº“ã€‚ è¿™äº›å­˜å‚¨åº“åŒ…å«åœ¨ä¸Šé¢çš„ <code>docker.repo</code> æ–‡ä»¶ä¸­ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹å¤„äºç¦ç”¨çŠ¶æ€ã€‚æ‚¨å¯ä»¥å°†å®ƒä»¬ä¸ç¨³å®šå­˜å‚¨åº“ä¸€èµ·å¯ç”¨ã€‚</p>
    <pre><code>$ sudo yum-config-manager --enable docker-ce-edge
$ sudo yum-config-manager --enable docker-ce-test
</code></pre>
    <p>æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>--disable</code> æ ‡å¿—è¿è¡Œ <code>yum-config-manager</code> å‘½ä»¤æ¥ç¦ç”¨è¾¹ç¼˜æˆ–æµ‹è¯•å­˜å‚¨åº“ã€‚ è¦é‡æ–°å¯ç”¨å®ƒï¼Œè¯·ä½¿ç”¨ <code>--enable</code> æ ‡å¿—ã€‚ ä»¥ä¸‹å‘½ä»¤ç¦ç”¨ <code>edge</code> å­˜å‚¨åº“:</p>
    <pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> yum-config-manager --disable docker-ce-edge
$ <span class="token function">sudo</span> yum-config-manager --disable docker-ce-test
</code></pre>
    <p>å®‰è£… Docker-ce</p>
    <pre class="language-bash"><code class="language-bash"><span class="token comment"># å®‰è£…å‰å¯ä»¥å…ˆæ›´æ–° yum ç¼“å­˜ï¼š</span>
<span class="token function">sudo</span> yum makecache fast
<span class="token comment"># å®‰è£… Docker-ce</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce
</code></pre>
    <p>å¦‚æœä½ æƒ³å®‰è£…ç‰¹å®š <code>docker-ce</code> ç‰ˆæœ¬ï¼Œå…ˆåˆ—å‡º repo ä¸­å¯ç”¨ç‰ˆæœ¬ï¼Œç„¶åé€‰æ‹©å®‰è£…</p>
    <pre class="language-bash"><code class="language-bash">$ yum list docker-ce --showduplicates <span class="token operator">|</span> <span class="token function">sort</span> -r
<span class="token comment"># docker-ce.x86_64            18.06.1.ce-3.el7                   docker-ce-stable</span>
<span class="token comment"># docker-ce.x86_64            18.06.1.ce-3.el7                   @docker-ce-stable</span>
<span class="token comment"># docker-ce.x86_64            18.06.0.ce-3.el7                   docker-ce-stable</span>
<span class="token comment"># docker-ce.x86_64            18.03.1.ce-1.el7.centos            docker-ce-stable</span>
<span class="token comment"># docker-ce.x86_64            18.03.0.ce-1.el7.centos            docker-ce-stable</span>
<span class="token comment"># docker-ce.x86_64            17.12.1.ce-1.el7.centos            docker-ce-stable</span>
<span class="token comment"># é€‰æ‹©ç‰ˆæœ¬å®‰è£…</span>
$ <span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce-<span class="token operator">&#x3C;</span>VERSION STRING<span class="token operator">></span>

<span class="token comment"># é€‰æ‹©å®‰è£… docker-ce-18.06.1.ce</span>
$ <span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce-18.06.1.ce
</code></pre>
    <p>å¯åŠ¨ Docker åå°æœåŠ¡</p>
    <pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> systemctl start docker
</code></pre>
    <p>é€šè¿‡è¿è¡Œ <code>hello-world</code> é•œåƒï¼ŒéªŒè¯æ˜¯å¦æ­£ç¡®å®‰è£…äº† <code>docker</code>ã€‚</p>
    <pre class="language-bash"><code class="language-bash">$ docker run hello-world
</code></pre>
    <h2 id="æ—§ç‰ˆæœ¬å®‰è£…"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ—§ç‰ˆæœ¬å®‰è£…"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>æ—§ç‰ˆæœ¬å®‰è£…</h2>
    <pre class="language-bash"><code class="language-bash">yum <span class="token function">install</span> docker        <span class="token comment"># CentOS ä¸­å®‰è£…</span>
<span class="token function">apt-get</span> <span class="token function">install</span> docker-ce <span class="token comment"># Ubuntu ä¸­å®‰è£…</span>
pacman -S docker          <span class="token comment"># Arch ä¸­å®‰è£…</span>
emerge --ask docker       <span class="token comment"># Gentoo ä¸­å®‰è£…</span>

<span class="token comment">#=====================</span>

docker version      <span class="token comment"># é€šè¿‡æŸ¥çœ‹ç‰ˆæœ¬ï¼Œæ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸ</span>
<span class="token comment"># Client:</span>
<span class="token comment">#  Version:         1.12.6</span>
<span class="token comment">#  API version:     1.24</span>
<span class="token comment">#  Package version: docker-1.12.6-55.gitc4618fb.el7.centos.x86_64</span>
<span class="token comment">#  Go version:      go1.8.3</span>
<span class="token comment">#  Git commit:      c4618fb/1.12.6</span>
<span class="token comment">#  Built:           Thu Sep 21 22:33:52 2017</span>
<span class="token comment">#  OS/Arch:         linux/amd64</span>
<span class="token comment"># </span>
<span class="token comment"># Server:</span>
<span class="token comment">#  Version:         1.12.6</span>
<span class="token comment">#  API version:     1.24</span>
<span class="token comment">#  Package version: docker-1.12.6-55.gitc4618fb.el7.centos.x86_64</span>
<span class="token comment">#  Go version:      go1.8.3</span>
<span class="token comment">#  Git commit:      c4618fb/1.12.6</span>
<span class="token comment">#  Built:           Thu Sep 21 22:33:52 2017</span>
<span class="token comment">#  OS/Arch:         linux/amd64</span>
</code></pre>
    <h2 id="å‘½ä»¤ä»‹ç»"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å‘½ä»¤ä»‹ç»"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>å‘½ä»¤ä»‹ç»</h2>
    <pre class="language-bash"><code class="language-bash">$ docker --help

ç®¡ç†å‘½ä»¤:
  container   ç®¡ç†å®¹å™¨
  image       ç®¡ç†é•œåƒ
  network     ç®¡ç†ç½‘ç»œ
å‘½ä»¤ï¼š
  attach      ä»‹å…¥åˆ°ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨
  build       æ ¹æ® Dockerfile æ„å»ºä¸€ä¸ªé•œåƒ
  commit      æ ¹æ®å®¹å™¨çš„æ›´æ”¹åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ
  <span class="token function">cp</span>          åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸å®¹å™¨ä¸­å¤åˆ¶ æ–‡ä»¶/æ–‡ä»¶å¤¹
  create      åˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨
  <span class="token builtin class-name">exec</span>        åœ¨å®¹å™¨ä¸­æ‰§è¡Œä¸€æ¡å‘½ä»¤
  images      åˆ—å‡ºé•œåƒ
  <span class="token function">kill</span>        æ€æ­»ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨    
  logs        å–å¾—å®¹å™¨çš„æ—¥å¿—
  pause       æš‚åœä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„æ‰€æœ‰è¿›ç¨‹
  <span class="token function">ps</span>          åˆ—å‡ºæ‰€æœ‰å®¹å™¨
  pull        æ‹‰å–ä¸€ä¸ªé•œåƒæˆ–ä»“åº“åˆ° registry
  push        æ¨é€ä¸€ä¸ªé•œåƒæˆ–ä»“åº“åˆ° registry
  <span class="token function">rename</span>      é‡å‘½åä¸€ä¸ªå®¹å™¨
  restart     é‡æ–°å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨
  <span class="token function">rm</span>          åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨
  rmi         åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ
  run         åœ¨ä¸€ä¸ªæ–°çš„å®¹å™¨ä¸­æ‰§è¡Œä¸€æ¡å‘½ä»¤
  search      åœ¨ Docker Hub ä¸­æœç´¢é•œåƒ
  start       å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»åœæ­¢è¿è¡Œçš„å®¹å™¨
  stats       æ˜¾ç¤ºä¸€ä¸ªå®¹å™¨çš„å®æ—¶èµ„æºå ç”¨
  stop        åœæ­¢ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨
  tag         ä¸ºé•œåƒåˆ›å»ºä¸€ä¸ªæ–°çš„æ ‡ç­¾
  <span class="token function">top</span>         æ˜¾ç¤ºä¸€ä¸ªå®¹å™¨å†…çš„æ‰€æœ‰è¿›ç¨‹
  unpause     æ¢å¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨å†…æ‰€æœ‰è¢«æš‚åœçš„è¿›ç¨‹
</code></pre>
    <h2 id="æœåŠ¡ç®¡ç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æœåŠ¡ç®¡ç†"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>æœåŠ¡ç®¡ç†</h2>
    <pre class="language-bash"><code class="language-bash"><span class="token function">service</span> docker start       <span class="token comment"># å¯åŠ¨ docker æœåŠ¡ï¼Œå®ˆæŠ¤è¿›ç¨‹</span>
<span class="token function">service</span> docker stop        <span class="token comment"># åœæ­¢ docker æœåŠ¡</span>
<span class="token function">service</span> docker status      <span class="token comment"># æŸ¥çœ‹ docker æœåŠ¡çŠ¶æ€</span>
<span class="token function">chkconfig</span> docker on        <span class="token comment"># è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨</span>
</code></pre>
    <h2 id="é•œåƒç®¡ç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é•œåƒç®¡ç†"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>é•œåƒç®¡ç†</h2>
    <p>é•œåƒå¯ä»¥çœ‹åšæˆ‘ä»¬å¹³æ—¶è£…ç³»ç»Ÿçš„é•œåƒï¼Œé‡Œé¢å°±æ˜¯ä¸€ä¸ªè¿è¡Œç¯å¢ƒã€‚</p>
    <pre class="language-bash"><code class="language-bash">docker pull centos:latest  <span class="token comment"># ä»docker.ioä¸­ä¸‹è½½centosé•œåƒåˆ°æœ¬åœ°</span>
docker images              <span class="token comment"># æŸ¥çœ‹å·²ä¸‹è½½çš„é•œåƒ</span>
docker rmi <span class="token punctuation">[</span>image_id<span class="token punctuation">]</span> <span class="token comment"># åˆ é™¤é•œåƒï¼ŒæŒ‡å®šé•œåƒid</span>

<span class="token comment"># åˆ é™¤æ‰€æœ‰é•œåƒ</span>
<span class="token comment"># none é»˜è®¤ä¸º docker.io</span>
docker rmi <span class="token variable"><span class="token variable">$(</span>docker images <span class="token operator">|</span> <span class="token function">grep</span> none <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $3}'</span> <span class="token operator">|</span> <span class="token function">sort</span> -r<span class="token variable">)</span></span>

<span class="token comment"># è¿æ¥è¿›è¡Œè¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œexitå‘½ä»¤é€€å‡ºã€‚</span>
docker run -t -i nginx:latest /bin/bash
</code></pre>
    <h3 id="é€šè¿‡å®¹å™¨åˆ›å»ºé•œåƒ"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é€šè¿‡å®¹å™¨åˆ›å»ºé•œåƒ"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>é€šè¿‡å®¹å™¨åˆ›å»ºé•œåƒ</h3>
    <p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯¹é•œåƒè¿›è¡Œæ›´æ”¹ã€‚</p>
    <ol>
      <li>ä»å·²ç»åˆ›å»ºçš„å®¹å™¨ä¸­æ›´æ–°é•œåƒï¼Œå¹¶ä¸”æäº¤è¿™ä¸ªé•œåƒ</li>
      <li>ä½¿ç”¨ Dockerfile æŒ‡ä»¤æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ</li>
    </ol>
    <p>ä¸‹é¢é€šè¿‡å·²å­˜åœ¨çš„å®¹å™¨åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒã€‚</p>
    <pre class="language-bash"><code class="language-bash">docker commit -m<span class="token operator">=</span><span class="token string">"First Docker"</span> -a<span class="token operator">=</span><span class="token string">"wcjiang"</span> a6b0a6cfdacf wcjiang/nginx:v1.2.1
</code></pre>
    <p>ä¸Šé¢å‘½ä»¤å‚æ•°è¯´æ˜ï¼š</p>
    <ul>
      <li><code>-m</code> æäº¤çš„æè¿°ä¿¡æ¯</li>
      <li><code>-a</code> æŒ‡å®šé•œåƒä½œè€…</li>
      <li><code>a6b0a6cfdacf</code> è®°ä½è¿™ä¸ªæ˜¯å®¹å™¨idï¼Œä¸æ˜¯é•œåƒid</li>
      <li><code>wcjiang/nginx:v1.2.1</code> åˆ›å»ºçš„ç›®æ ‡é•œåƒå</li>
    </ul>
    <h3 id="é€šè¿‡dockerfileåˆ›å»ºé•œåƒ"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é€šè¿‡dockerfileåˆ›å»ºé•œåƒ"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>é€šè¿‡Dockerfileåˆ›å»ºé•œåƒ</h3>
    <p>å‡è®¾åˆ›å»ºä¸€ä¸ª node.js é•œåƒï¼Œé¦–å…ˆåœ¨ node.js é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶ã€‚</p>
    <pre class="language-bash"><code class="language-bash"><span class="token function">touch</span> Dockerfile .dockerignore
</code></pre>
    <p><code>.dockerignore</code> æ–‡ä»¶å†…å®¹ï¼Œä¸‹é¢ä»£ç è¡¨ç¤ºï¼Œè¿™ä¸‰ä¸ªè·¯å¾„è¦æ’é™¤ï¼Œä¸è¦æ‰“åŒ…è¿›å…¥ image æ–‡ä»¶ã€‚å¦‚æœä½ æ²¡æœ‰è·¯å¾„è¦æ’é™¤ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥ä¸æ–°å»ºã€‚</p>
    <pre class="language-bash"><code class="language-bash">.git
node_modules
npm-debug.log
</code></pre>
    <p>Dockerfile æ–‡ä»¶å†…å®¹</p>
    <pre class="language-dockerfile"><code class="language-Dockerfile"><span class="token instruction"><span class="token keyword">FROM</span> node:8.4</span>
<span class="token instruction"><span class="token keyword">COPY</span> . /app</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">RUN</span> npm install --registry=https://registry.npm.taobao.org</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 3000</span>
</code></pre>
    <ul>
      <li><code>FROM node:8.4</code>ï¼šè¯¥ <code>image</code> æ–‡ä»¶ç»§æ‰¿å®˜æ–¹çš„ <code>node image</code>ï¼Œå†’å·è¡¨ç¤ºæ ‡ç­¾ï¼Œè¿™é‡Œæ ‡ç­¾æ˜¯<code>8.4</code>ï¼Œå³<code>8.4</code>ç‰ˆæœ¬çš„ <code>node</code>ã€‚</li>
      <li><code>COPY . /app</code>ï¼šå°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤äº† <code>.dockerignore</code> æ’é™¤çš„è·¯å¾„ï¼‰ï¼Œéƒ½æ‹·è´è¿›å…¥ <code>image</code> æ–‡ä»¶çš„ <code>/app</code> ç›®å½•ã€‚</li>
      <li><code>WORKDIR /app</code>ï¼šæŒ‡å®šæ¥ä¸‹æ¥çš„å·¥ä½œè·¯å¾„ä¸º<code>/app</code>ã€‚</li>
      <li><code>RUN npm install</code>ï¼šåœ¨/appç›®å½•ä¸‹ï¼Œè¿è¡Œ <code>npm install</code> å‘½ä»¤å®‰è£…ä¾èµ–ã€‚æ³¨æ„ï¼Œå®‰è£…åæ‰€æœ‰çš„ä¾èµ–ï¼Œéƒ½å°†æ‰“åŒ…è¿›å…¥ <code>image</code> æ–‡ä»¶ã€‚</li>
      <li><code>EXPOSE 3000</code>ï¼šå°†å®¹å™¨ <code>3000</code> ç«¯å£æš´éœ²å‡ºæ¥ï¼Œ å…è®¸å¤–éƒ¨è¿æ¥è¿™ä¸ªç«¯å£ã€‚</li>
    </ul>
    <p>æœ‰äº† <code>Dockerfile</code> æ–‡ä»¶ä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>docker image build</code> å‘½ä»¤åˆ›å»º <code>image</code> æ–‡ä»¶äº†ã€‚</p>
    <pre class="language-bash"><code class="language-bash">$ docker image build -t koa-demo <span class="token builtin class-name">.</span>
<span class="token comment"># æˆ–è€…</span>
$ docker image build -t koa-demo:0.0.1 <span class="token builtin class-name">.</span>
</code></pre>
    <p>ä¸Šé¢å‘½ä»¤ï¼Œ<code>-t</code> å‚æ•°ç”¨æ¥æŒ‡å®š <code>image</code> æ–‡ä»¶çš„åå­—ï¼Œåé¢è¿˜å¯ä»¥ç”¨å†’å·æŒ‡å®šæ ‡ç­¾ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤çš„æ ‡ç­¾å°±æ˜¯ <code>latest</code>ã€‚æ³¨æ„åé¢æœ‰ä¸ª <code>.</code>ï¼Œè¡¨ç¤º Dockerfile æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ä¸ºå½“å‰è·¯å¾„</p>
    <h3 id="å‘å¸ƒè‡ªå·±çš„é•œåƒ"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å‘å¸ƒè‡ªå·±çš„é•œåƒ"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>å‘å¸ƒè‡ªå·±çš„é•œåƒ</h3>
    <ol>
      <li>åœ¨<a href="https://www.docker.com/">Docker</a> æ³¨å†Œè´¦æˆ·ï¼Œå‘å¸ƒçš„é•œåƒéƒ½åœ¨<a href="https://cloud.docker.com/repository/list">è¿™ä¸ªé¡µé¢é‡Œ</a>å±•ç¤º</li>
      <li>å°†ä¸Šé¢åšçš„é•œåƒ<code>nginx</code>ï¼Œèµ·ä¸ªæ–°çš„åå­—<code>nginx-test</code></li>
    </ol>
    <pre class="language-bash"><code class="language-bash">docker tag wcjiang/nginx:v1.2.1 wcjiang/nginx-test:lastest
</code></pre>
    <ol start="3">
      <li>ç™»å½•docker</li>
    </ol>
    <pre><code>docker login
</code></pre>
    <ol start="4">
      <li>ä¸Šä¼ <code>nginx-test</code>é•œåƒ</li>
    </ol>
    <pre class="language-bash"><code class="language-bash">docker push wcjiang/nginx-test:lastest
<span class="token comment"># The push refers to a repository [docker.io/wcjiang/nginx-test]</span>
<span class="token comment"># 2f5c6a3c22e3: Mounted from wcjiang/nginx</span>
<span class="token comment"># cf516324493c: Mounted from wcjiang/nginx</span>
<span class="token comment"># lastest: digest: sha256:73ae804b2c60327d1269aa387cf782f664bc91da3180d10dbd49027d7adaa789 size: 736</span>
</code></pre>
    <h3 id="é•œåƒä¸­å®‰è£…è½¯ä»¶"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é•œåƒä¸­å®‰è£…è½¯ä»¶"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>é•œåƒä¸­å®‰è£…è½¯ä»¶</h3>
    <p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä½¿ç”¨dockerå®˜æ–¹é•œåƒï¼Œå¦‚ mysqlé•œåƒï¼Œé»˜è®¤æƒ…å†µä¸‹é•œåƒä¸­å•¥è½¯ä»¶ä¹Ÿæ²¡æœ‰ï¼Œé€šè¿‡ä¸‹é¢å‘½ä»¤å®‰è£…ä½ æ‰€éœ€è¦çš„è½¯ä»¶ï¼š</p>
    <pre class="language-bash"><code class="language-bash"><span class="token comment"># ç¬¬ä¸€æ¬¡éœ€è¦è¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œç¡®ä¿æºçš„ç´¢å¼•æ˜¯æœ€æ–°çš„</span>
<span class="token comment"># åŒæ­¥ /etc/apt/sources.list å’Œ /etc/apt/sources.list.d ä¸­åˆ—å‡ºçš„æºçš„ç´¢å¼•</span>
<span class="token function">apt-get</span> update
<span class="token comment"># åšè¿‡ä¸Šé¢æ›´æ–°åŒæ­¥ä¹‹åï¼Œå¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤äº†</span>
<span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">vim</span>
</code></pre>
    <p>å¦‚æœä½ å®‰è£…äº†CentOSæˆ–è€…Ubuntuç³»ç»Ÿå¯ä»¥è¿›å…¥ç³»ç»Ÿå®‰è£…ç›¸å…³è½¯ä»¶</p>
    <pre class="language-bash"><code class="language-bash"><span class="token comment"># è¿›å…¥åˆ°centos7é•œåƒç³»ç»Ÿ</span>
docker run -i -t centos:7 /bin/bash
yum update
yum <span class="token function">install</span> <span class="token function">vim</span>
</code></pre>
    <h2 id="å®¹å™¨ç®¡ç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å®¹å™¨ç®¡ç†"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>å®¹å™¨ç®¡ç†</h2>
    <p>å®¹å™¨å°±åƒä¸€ä¸ªç±»çš„å®ä¾‹</p>
    <pre class="language-bash"><code class="language-bash"><span class="token comment"># åˆ—å‡ºæœ¬æœºæ­£åœ¨è¿è¡Œçš„å®¹å™¨</span>
docker container <span class="token function">ls</span>
<span class="token comment"># åˆ—å‡ºæœ¬æœºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨</span>
docker container <span class="token function">ls</span> --all
docker start <span class="token punctuation">[</span>containerID/Names<span class="token punctuation">]</span> <span class="token comment"># å¯åŠ¨å®¹å™¨</span>
docker stop <span class="token punctuation">[</span>containerID/Names<span class="token punctuation">]</span>  <span class="token comment"># åœæ­¢å®¹å™¨</span>
docker <span class="token function">rm</span> <span class="token punctuation">[</span>containerID/Names<span class="token punctuation">]</span>    <span class="token comment"># åˆ é™¤å®¹å™¨</span>
docker logs <span class="token punctuation">[</span>containerID/Names<span class="token punctuation">]</span>  <span class="token comment"># æŸ¥çœ‹æ—¥å¿—</span>
docker <span class="token builtin class-name">exec</span> -it <span class="token punctuation">[</span>containerID/Names<span class="token punctuation">]</span> /bin/bash  <span class="token comment"># è¿›å…¥å®¹å™¨</span>

<span class="token comment"># ä»æ­£åœ¨è¿è¡Œçš„ Docker å®¹å™¨é‡Œé¢ï¼Œå°†æ–‡ä»¶æ‹·è´åˆ°æœ¬æœºï¼Œæ³¨æ„åé¢æœ‰ä¸ªã€ç‚¹ã€‘æ‹·è´åˆ°å½“å‰ç›®å½•</span>
docker container <span class="token function">cp</span> <span class="token punctuation">[</span>containID<span class="token punctuation">]</span>:<span class="token punctuation">[</span>/path/to/file<span class="token punctuation">]</span> <span class="token builtin class-name">.</span>

docker run centos <span class="token builtin class-name">echo</span> <span class="token string">"hello world"</span>  <span class="token comment"># åœ¨dockerå®¹å™¨ä¸­è¿è¡Œhello world!</span>
docker run centos yum <span class="token function">install</span> -y <span class="token function">wget</span> <span class="token comment"># åœ¨dockerå®¹å™¨ä¸­ï¼Œå®‰è£…wgetè½¯ä»¶</span>
docker <span class="token function">ps</span>                           <span class="token comment"># åˆ—å‡ºåŒ…æ‹¬æœªè¿è¡Œçš„å®¹å™¨</span>
docker <span class="token function">ps</span> -a                        <span class="token comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨(åŒ…æ‹¬æ­£åœ¨è¿è¡Œå’Œå·²åœæ­¢çš„)</span>
docker logs my-nginx                <span class="token comment"># æŸ¥çœ‹ my-nginx å®¹å™¨æ—¥å¿—</span>

docker run -i -t centos /bin/bash   <span class="token comment"># å¯åŠ¨ä¸€ä¸ªå®¹å™¨</span>
docker inspect centos     <span class="token comment"># æ£€æŸ¥è¿è¡Œä¸­çš„é•œåƒ</span>
docker commit 8bd centos  <span class="token comment"># ä¿å­˜å¯¹å®¹å™¨çš„ä¿®æ”¹</span>
docker commit -m <span class="token string">"n changed"</span> my-nginx my-nginx-image <span class="token comment"># ä½¿ç”¨å·²ç»å­˜åœ¨çš„å®¹å™¨åˆ›å»ºä¸€ä¸ªé•œåƒ</span>
docker inspect -f <span class="token punctuation">{</span><span class="token punctuation">{</span>.State.Pid<span class="token punctuation">}</span><span class="token punctuation">}</span> 44fc0f0582d9 <span class="token comment"># è·å–idä¸º 44fc0f0582d9 çš„PIDè¿›ç¨‹ç¼–å·</span>
<span class="token comment"># ä¸‹è½½æŒ‡å®šç‰ˆæœ¬å®¹å™¨é•œåƒ</span>
docker pull gitlab/gitlab-ce:11.2.3-ce.0
</code></pre>
    <h3 id="å®¹å™¨æœåŠ¡ç®¡ç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å®¹å™¨æœåŠ¡ç®¡ç†"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>å®¹å™¨æœåŠ¡ç®¡ç†</h3>
    <pre class="language-bash"><code class="language-bash">docker run -itd --name my-nginx2 nginx <span class="token comment"># é€šè¿‡nginxé•œåƒï¼Œã€åˆ›å»ºã€‘å®¹å™¨åä¸º my-nginx2 çš„å®¹å™¨</span>
docker start my-nginx --restart<span class="token operator">=</span>always    <span class="token comment"># ã€å¯åŠ¨ç­–ç•¥ã€‘ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®¹å™¨å¯åŠ¨æ·»åŠ ç­–ç•¥</span>
                               <span class="token comment"># no - å®¹å™¨ä¸é‡å¯</span>
                               <span class="token comment"># on-failure - å®¹å™¨æ¨å‡ºçŠ¶æ€é0æ—¶é‡å¯</span>
                               <span class="token comment"># always - å§‹ç»ˆé‡å¯</span>
docker start my-nginx               <span class="token comment"># ã€å¯åŠ¨ã€‘ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®¹å™¨</span>
docker restart my-nginx             <span class="token comment"># ã€é‡å¯ã€‘å®¹å™¨</span>
docker stop my-nginx                <span class="token comment"># ã€åœæ­¢è¿è¡Œã€‘ä¸€ä¸ªå®¹å™¨</span>
docker <span class="token function">kill</span> my-nginx                <span class="token comment"># ã€æ€æ­»ã€‘ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨</span>
docker <span class="token function">rename</span> my-nginx new-nginx    <span class="token comment"># ã€é‡å‘½åã€‘å®¹å™¨</span>
docker <span class="token function">rm</span> new-nginx                 <span class="token comment"># ã€åˆ é™¤ã€‘å®¹å™¨</span>
</code></pre>
    <h3 id="è¿›å…¥å®¹å™¨"><a class="anchor" aria-hidden="true" tabindex="-1" href="#è¿›å…¥å®¹å™¨"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>è¿›å…¥å®¹å™¨</h3>
    <ol>
      <li>åˆ›å»ºä¸€ä¸ªå®ˆæŠ¤çŠ¶æ€çš„Dockerå®¹å™¨</li>
    </ol>
    <pre class="language-bash"><code class="language-bash">docker run -itd my-nginx /bin/bash
</code></pre>
    <ol start="2">
      <li>ä½¿ç”¨<code>docker ps</code>æŸ¥çœ‹åˆ°è¯¥å®¹å™¨ä¿¡æ¯</li>
    </ol>
    <pre class="language-bash"><code class="language-bash">docker <span class="token function">ps</span>
<span class="token comment"># CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span>
<span class="token comment"># 6bd0496da64f        nginx               "/bin/bash"         20 seconds ago      Up 18 seconds       80/tcp              high_shirley</span>
</code></pre>
    <ol start="3">
      <li>ä½¿ç”¨<code>docker exec</code>å‘½ä»¤è¿›å…¥ä¸€ä¸ªå·²ç»åœ¨è¿è¡Œçš„å®¹å™¨</li>
    </ol>
    <pre class="language-bash"><code class="language-bash">docker <span class="token builtin class-name">exec</span> -it 6bd0496da64f /bin/bash
</code></pre>
    <p>é€šå¸¸æœ‰ä¸‹é¢å‡ ç§æ–¹å¼è¿›å…¥Dockerçš„å®¹å™¨ï¼Œæ¨èä½¿ç”¨<code>exec</code>ï¼Œä½¿ç”¨<code>attach</code>ä¸€ç›´è¿›å…¥å¤±è´¥ã€‚</p>
    <ul>
      <li>ä½¿ç”¨<code>docker attach</code></li>
      <li>ä½¿ç”¨<code>SSH</code> <a href="http://www.oschina.net/translate/why-you-dont-need-to-run-sshd-in-docker?cmp">ä¸ºä»€ä¹ˆä¸éœ€è¦åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ sshd</a></li>
      <li>ä½¿ç”¨<code>nsenter</code>è¿›å…¥Dockerå®¹å™¨ï¼Œ<a href="https://github.com/jpetazzo/nsenter">nsenterå®˜æ–¹ä»“åº“</a></li>
      <li>ä½¿ç”¨<code>docker exec</code>ï¼Œåœ¨<code>1.3.*</code>ä¹‹åæä¾›äº†ä¸€ä¸ªæ–°çš„å‘½ä»¤<code>exec</code>ç”¨äºè¿›å…¥å®¹å™¨</li>
    </ul>
    <h2 id="æ–‡ä»¶æ‹·è´"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ–‡ä»¶æ‹·è´"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>æ–‡ä»¶æ‹·è´</h2>
    <p>ä»ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨ <code>sudo docker cp host_path containerID:container_path</code><br>ä»å®¹å™¨å¤åˆ¶åˆ°ä¸»æœº <code>sudo docker cp containerID:container_path host_path</code></p>
    <h2 id="dockerç§æœ‰ä»“åº“æ­å»º"><a class="anchor" aria-hidden="true" tabindex="-1" href="#dockerç§æœ‰ä»“åº“æ­å»º"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Dockerç§æœ‰ä»“åº“æ­å»º</h2>
    <p>é€šè¿‡å®˜æ–¹æä¾›çš„ç§æœ‰ä»“åº“é•œåƒ<code>registry</code>æ¥æ­å»ºç§æœ‰ä»“åº“ã€‚é€šè¿‡ <a href="https://humpback.github.io/">humpback</a> å¿«é€Ÿæ­å»ºè½»é‡çº§çš„Dockerå®¹å™¨äº‘ç®¡ç†å¹³å°ã€‚å…³äºä»“åº“é…ç½®è¯´æ˜è¯·å‚è§<a href="https://github.com/docker/distribution/blob/master/docs/configuration.md">configuration.md</a></p>
    <blockquote>
      <p>âš ï¸ æ³¨æ„ï¼šä¹Ÿå¯ä»¥é€šè¿‡éƒ¨ç½²ç®¡ç†å·¥å…· <code>Harbor</code> æ¥éƒ¨ç½² <code>registry</code></p>
    </blockquote>
    <p>é™¤äº† <a href="https://github.com/goharbor/harbor">Harbor</a> è¿˜æœ‰ <a href="https://github.com/humpback/humpback">humpback</a> å’Œ <a href="https://github.com/rancher/rancher">rancher</a></p>
    <h3 id="registry"><a class="anchor" aria-hidden="true" tabindex="-1" href="#registry"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>registry</code></h3>
    <pre class="language-bash"><code class="language-bash">docker pull registry:2.6.2
</code></pre>
    <p>åˆ›å»ºå®¹å™¨å¹¶è¿è¡Œï¼Œåˆ›å»ºæˆåŠŸä¹‹åï¼Œå¯è®¿é—® <code>http://192.168.99.100:7000/v2/</code>ï¼Œæ¥æ£€æŸ¥ä»“åº“æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œå½“è¿”å› <code>{}</code> æ—¶ï¼Œè¡¨ç¤ºéƒ¨ç½²æˆåŠŸã€‚</p>
    <pre class="language-bash"><code class="language-bash">docker run -d <span class="token punctuation">\</span>
  -p <span class="token number">5000</span>:5000 <span class="token punctuation">\</span>
  --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
  --name registry <span class="token punctuation">\</span>
  registry:2

<span class="token comment"># è‡ªå®šä¹‰å­˜å‚¨ä½ç½®</span>
docker run -d <span class="token punctuation">\</span>
  -p <span class="token number">5000</span>:5000 <span class="token punctuation">\</span>
  --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
  --name registry <span class="token punctuation">\</span>
  -v <span class="token environment constant">$HOME</span>/_docker/registry:/var/lib/registry <span class="token punctuation">\</span>
  registry:2

docker run -d -p <span class="token number">5000</span>:5000 --restart<span class="token operator">=</span>always --name registry <span class="token punctuation">\</span>
    -v <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">pwd</span><span class="token variable">`</span></span>/config.yml:/etc/docker/registry/config.yml <span class="token punctuation">\</span>
    registry:2
</code></pre>
    <p>æ¨é€é•œåƒåˆ°ç§æœ‰ä»“åº“</p>
    <pre class="language-bash"><code class="language-bash"><span class="token comment"># ä»å®˜æ–¹ä»“åº“æ‹‰å–ä¸€ä¸ªé•œåƒ</span>
docker pull nginx:1.13
<span class="token comment"># ä¸ºé•œåƒ `nginx:1.13` åˆ›å»ºä¸€ä¸ªæ–°æ ‡ç­¾ `192.168.31.69:7000/test-nginx:1.13`</span>
docker tag nginx:latest <span class="token number">192.168</span>.31.69:5000/test-nginx:1.13
<span class="token comment"># æ¨é€åˆ°ç§æœ‰ä»“åº“ä¸­</span>
docker push <span class="token number">192.168</span>.31.69:5000/test-nginx:1.13
<span class="token comment"># The push refers to a repository [192.168.99.100:7000/test-nginx]</span>
<span class="token comment"># Get https://192.168.99.100:7000/v1/_ping: http: server gave HTTP response to HTTPS client</span>
</code></pre>
    <p>åœ¨æ¨é€åˆ°çš„æ—¶å€™æŠ¥é”™è¯¯ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨<code>https</code>æäº¤ï¼Œè¿™ä¸ªæ­å»ºçš„é»˜è®¤ä½¿ç”¨çš„æ˜¯ <code>http</code>ï¼Œè§£å†³æ–¹æ³•ä¸¤ä¸ªï¼š</p>
    <ol>
      <li>åˆ›å»ºä¸€ä¸ªhttpsæ˜ å°„</li>
      <li>å°†ä»“åº“åœ°å€åŠ å…¥åˆ°ä¸å®‰å…¨çš„ä»“åº“åˆ—è¡¨ä¸­</li>
    </ol>
    <p>æˆ‘ä»¬ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼ŒåŠ å…¥åˆ°ä¸å®‰å…¨çš„ä»“åº“åˆ—è¡¨ä¸­ï¼Œä¿®æ”¹dockeré…ç½®æ–‡ä»¶<code>vi /etc/docker/daemon.json</code> æ·»åŠ  <code>insecure-registries</code>é…ç½®ä¿¡æ¯ï¼Œå¦‚æœ <a href="https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file">daemon.json</a> æ–‡ä»¶ä¸å­˜åœ¨å¯ä»¥åˆ›å»ºï¼Œå…³é”®é…ç½®é¡¹ï¼Œå°†ä»“åº“å°†å…¥åˆ°ä¸å®‰å…¨çš„ä»“åº“åˆ—è¡¨ä¸­ã€‚</p>
    <pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">"insecure-registries"</span><span class="token operator">:</span><span class="token punctuation">[</span> 
    <span class="token string">"192.168.31.69:5000"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
      <p>å¦‚æœæ˜¯ macOS å¯ä»¥é€šè¿‡ docker å®¢æˆ·ç«¯ï¼Œ<code>Preferences</code> => <code>Advanced</code> => <code>æ·»åŠ é…ç½®</code> => <code>Apply &#x26; Restart</code>ï¼Œé‡å¯dockerå°±å¯ä»¥äº†ã€‚</p>
    </blockquote>
    <p>é‡å¯æœåŠ¡ <code>service docker restart</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹ push æ˜¯ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯çš„ï¼š</p>
    <pre class="language-bash"><code class="language-bash">docker push <span class="token number">192.168</span>.99.100:7000/test-nginx:1.13
<span class="token comment"># The push refers to a repository [192.168.99.100:7000/test-nginx]</span>
<span class="token comment"># a1a53f8d99b5: Retrying in 1 second</span>
<span class="token comment"># ...</span>
<span class="token comment"># received unexpected HTTP status: 500 Internal Server Error</span>
</code></pre>
    <p>ä¸Šé¢é”™è¯¯æ˜¯ <code>SELinux</code> å¼ºåˆ¶è®¿é—®æ§åˆ¶å®‰å…¨ç³»ç»Ÿï¼Œé˜»æ­¢å¯¼è‡´çš„é”™è¯¯ï¼Œé€šè¿‡ä¸‹é¢æ–¹æ³•ç¦ç”¨ SELinux ä¹‹åå°±å¯ä»¥ push äº†ã€‚</p>
    <pre class="language-bash"><code class="language-bash">setenforce <span class="token number">0</span>  
getenforce   
<span class="token comment"># Permissive  </span>
</code></pre>
    <pre class="language-bash"><code class="language-bash"><span class="token comment"># åœæ­¢æœ¬åœ° registry</span>
docker container stop registry
<span class="token comment"># è¦åˆ é™¤å®¹å™¨ï¼Œè¯·ä½¿ç”¨ docker container rm</span>
docker container stop registry <span class="token operator">&#x26;&#x26;</span> docker container <span class="token function">rm</span> -v registry
<span class="token comment"># è‡ªå®šä¹‰å­˜å‚¨ä½ç½®</span>
</code></pre>
    <h3 id="harbor"><a class="anchor" aria-hidden="true" tabindex="-1" href="#harbor"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Harbor</code></h3>
    <p><a href="docker/harbor.md">éƒ¨ç½² registry ç®¡ç†å·¥å…· Harbor</a></p>
    <h2 id="ä½¿ç”¨dockerå®æˆ˜"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ä½¿ç”¨dockerå®æˆ˜"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>ä½¿ç”¨Dockerå®æˆ˜</h2>
    <blockquote>
      <p>âš æ–‡ä»¶æŒ‚è½½æ³¨æ„ï¼šdocker ç¦æ­¢ç”¨ä¸»æœºä¸Šä¸å­˜åœ¨çš„æ–‡ä»¶æŒ‚è½½åˆ° container ä¸­å·²ç»å­˜åœ¨çš„æ–‡ä»¶</p>
    </blockquote>
    <pre class="language-bash"><code class="language-bash">-d, --detach<span class="token operator">=</span>false      <span class="token comment"># æŒ‡å®šå®¹å™¨è¿è¡Œäºå‰å°è¿˜æ˜¯åå°ï¼Œé»˜è®¤ä¸ºfalse   </span>
-i, --interactive<span class="token operator">=</span>false <span class="token comment"># æ‰“å¼€STDINï¼Œç”¨äºæ§åˆ¶å°äº¤äº’  </span>
-t, --tty<span class="token operator">=</span>false         <span class="token comment"># åˆ†é…ttyè®¾å¤‡ï¼Œè¯¥å¯ä»¥æ”¯æŒç»ˆç«¯ç™»å½•ï¼Œé»˜è®¤ä¸ºfalse  </span>
-u, --user<span class="token operator">=</span><span class="token string">""</span>           <span class="token comment"># æŒ‡å®šå®¹å™¨çš„ç”¨æˆ·  </span>
-a, --attach<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>         <span class="token comment"># ç™»å½•å®¹å™¨ï¼ˆå¿…é¡»æ˜¯ä»¥docker run -då¯åŠ¨çš„å®¹å™¨ï¼‰</span>
-w, --workdir<span class="token operator">=</span><span class="token string">""</span>        <span class="token comment"># æŒ‡å®šå®¹å™¨çš„å·¥ä½œç›®å½• </span>
-c, --cpu-shares<span class="token operator">=</span><span class="token number">0</span>      <span class="token comment"># è®¾ç½®å®¹å™¨CPUæƒé‡ï¼Œåœ¨CPUå…±äº«åœºæ™¯ä½¿ç”¨  </span>
-e, --env<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token comment"># æŒ‡å®šç¯å¢ƒå˜é‡ï¼Œå®¹å™¨ä¸­å¯ä»¥ä½¿ç”¨è¯¥ç¯å¢ƒå˜é‡  </span>
-m, --memory<span class="token operator">=</span><span class="token string">""</span>         <span class="token comment"># æŒ‡å®šå®¹å™¨çš„å†…å­˜ä¸Šé™  </span>
-P, --publish-all<span class="token operator">=</span>false <span class="token comment"># æŒ‡å®šå®¹å™¨æš´éœ²çš„ç«¯å£  </span>
-p, --publish<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># æŒ‡å®šå®¹å™¨æš´éœ²çš„ç«¯å£ </span>
-h, --hostname<span class="token operator">=</span><span class="token string">""</span>       <span class="token comment"># æŒ‡å®šå®¹å™¨çš„ä¸»æœºå  </span>
-v, --volume<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>         <span class="token comment"># ç»™å®¹å™¨æŒ‚è½½å­˜å‚¨å·ï¼ŒæŒ‚è½½åˆ°å®¹å™¨çš„æŸä¸ªç›®å½•  </span>
--volumes-from<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>       <span class="token comment"># ç»™å®¹å™¨æŒ‚è½½å…¶ä»–å®¹å™¨ä¸Šçš„å·ï¼ŒæŒ‚è½½åˆ°å®¹å™¨çš„æŸä¸ªç›®å½•</span>
--cap-add<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token comment"># æ·»åŠ æƒé™ï¼Œæƒé™æ¸…å•è¯¦è§ï¼šhttp://linux.die.net/man/7/capabilities  </span>
--cap-drop<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>           <span class="token comment"># åˆ é™¤æƒé™ï¼Œæƒé™æ¸…å•è¯¦è§ï¼šhttp://linux.die.net/man/7/capabilities  </span>
--cidfile<span class="token operator">=</span><span class="token string">""</span>            <span class="token comment"># è¿è¡Œå®¹å™¨åï¼Œåœ¨æŒ‡å®šæ–‡ä»¶ä¸­å†™å…¥å®¹å™¨PIDå€¼ï¼Œä¸€ç§å…¸å‹çš„ç›‘æ§ç³»ç»Ÿç”¨æ³•  </span>
--cpuset<span class="token operator">=</span><span class="token string">""</span>             <span class="token comment"># è®¾ç½®å®¹å™¨å¯ä»¥ä½¿ç”¨å“ªäº›CPUï¼Œæ­¤å‚æ•°å¯ä»¥ç”¨æ¥å®¹å™¨ç‹¬å CPU  </span>
--device<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>             <span class="token comment"># æ·»åŠ ä¸»æœºè®¾å¤‡ç»™å®¹å™¨ï¼Œç›¸å½“äºè®¾å¤‡ç›´é€š  </span>
--dns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>                <span class="token comment"># æŒ‡å®šå®¹å™¨çš„dnsæœåŠ¡å™¨  </span>
--dns-search<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>         <span class="token comment"># æŒ‡å®šå®¹å™¨çš„dnsæœç´¢åŸŸåï¼Œå†™å…¥åˆ°å®¹å™¨çš„/etc/resolv.confæ–‡ä»¶  </span>
--entrypoint<span class="token operator">=</span><span class="token string">""</span>         <span class="token comment"># è¦†ç›–imageçš„å…¥å£ç‚¹  </span>
--env-file<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>           <span class="token comment"># æŒ‡å®šç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œæ–‡ä»¶æ ¼å¼ä¸ºæ¯è¡Œä¸€ä¸ªç¯å¢ƒå˜é‡  </span>
--expose<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>             <span class="token comment"># æŒ‡å®šå®¹å™¨æš´éœ²çš„ç«¯å£ï¼Œå³ä¿®æ”¹é•œåƒçš„æš´éœ²ç«¯å£  </span>
--link<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>               <span class="token comment"># æŒ‡å®šå®¹å™¨é—´çš„å…³è”ï¼Œä½¿ç”¨å…¶ä»–å®¹å™¨çš„IPã€envç­‰ä¿¡æ¯  </span>
--lxc-conf<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>           <span class="token comment"># æŒ‡å®šå®¹å™¨çš„é…ç½®æ–‡ä»¶ï¼Œåªæœ‰åœ¨æŒ‡å®š--exec-driver=lxcæ—¶ä½¿ç”¨  </span>
--name<span class="token operator">=</span><span class="token string">""</span>               <span class="token comment"># æŒ‡å®šå®¹å™¨åå­—ï¼Œåç»­å¯ä»¥é€šè¿‡åå­—è¿›è¡Œå®¹å™¨ç®¡ç†ï¼Œlinksç‰¹æ€§éœ€è¦ä½¿ç”¨åå­—  </span>
--net<span class="token operator">=</span><span class="token string">"bridge"</span>          <span class="token comment"># å®¹å™¨ç½‘ç»œè®¾ç½®:</span>
                            <span class="token comment"># bridge ä½¿ç”¨docker daemonæŒ‡å®šçš„ç½‘æ¡¥     </span>
                            <span class="token comment"># host 	//å®¹å™¨ä½¿ç”¨ä¸»æœºçš„ç½‘ç»œ  </span>
                            <span class="token comment"># container:NAME_or_ID  >//ä½¿ç”¨å…¶ä»–å®¹å™¨çš„ç½‘è·¯ï¼Œå…±äº«IPå’ŒPORTç­‰ç½‘ç»œèµ„æº  </span>
                            <span class="token comment"># none å®¹å™¨ä½¿ç”¨è‡ªå·±çš„ç½‘ç»œï¼ˆç±»ä¼¼--net=bridgeï¼‰ï¼Œä½†æ˜¯ä¸è¿›è¡Œé…ç½® </span>
--privileged<span class="token operator">=</span>false      <span class="token comment"># æŒ‡å®šå®¹å™¨æ˜¯å¦ä¸ºç‰¹æƒå®¹å™¨ï¼Œç‰¹æƒå®¹å™¨æ‹¥æœ‰æ‰€æœ‰çš„capabilities  </span>
--restart<span class="token operator">=</span><span class="token string">"no"</span>          <span class="token comment"># æŒ‡å®šå®¹å™¨åœæ­¢åçš„é‡å¯ç­–ç•¥:</span>
                            <span class="token comment"># noï¼šå®¹å™¨é€€å‡ºæ—¶ä¸é‡å¯  </span>
                            <span class="token comment"># on-failureï¼šå®¹å™¨æ•…éšœé€€å‡ºï¼ˆè¿”å›å€¼éé›¶ï¼‰æ—¶é‡å¯ </span>
                            <span class="token comment"># alwaysï¼šå®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯  </span>
--rm<span class="token operator">=</span>false              <span class="token comment"># æŒ‡å®šå®¹å™¨åœæ­¢åè‡ªåŠ¨åˆ é™¤å®¹å™¨(ä¸æ”¯æŒä»¥docker run -då¯åŠ¨çš„å®¹å™¨)  </span>
--sig-proxy<span class="token operator">=</span>true        <span class="token comment"># è®¾ç½®ç”±ä»£ç†æ¥å—å¹¶å¤„ç†ä¿¡å·ï¼Œä½†æ˜¯SIGCHLDã€SIGSTOPå’ŒSIGKILLä¸èƒ½è¢«ä»£ç†</span>
</code></pre>
    <h3 id="nginx"><a class="anchor" aria-hidden="true" tabindex="-1" href="#nginx"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Nginx</code></h3>
    <p><a href="nginx.html">åœ¨ docker ä¸­éƒ¨ç½² Nginx</a></p>
    <h3 id="mysql"><a class="anchor" aria-hidden="true" tabindex="-1" href="#mysql"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>MySQL</code></h3>
    <p><a href="mysql.html">åœ¨ docker ä¸­éƒ¨ç½² MySQL</a></p>
    <h3 id="redis"><a class="anchor" aria-hidden="true" tabindex="-1" href="#redis"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Redis</code></h3>
    <p><a href="redis.html">åœ¨ docker ä¸­éƒ¨ç½² Redis</a></p>
    <h3 id="elasticsearch"><a class="anchor" aria-hidden="true" tabindex="-1" href="#elasticsearch"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Elasticsearch</code></h3>
    <p><a href="elasticsearch.html">åœ¨ docker ä¸­éƒ¨ç½² Elasticsearch</a></p>
    <h3 id="gitlab"><a class="anchor" aria-hidden="true" tabindex="-1" href="#gitlab"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Gitlab</code></h3>
    <p><a href="gitlab.html">åœ¨ docker ä¸­éƒ¨ç½² Gitlab</a></p>
    <h3 id="rocketchat"><a class="anchor" aria-hidden="true" tabindex="-1" href="#rocketchat"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Rocket.Chat</code></h3>
    <p><a href="rocket.chat.html">åœ¨ docker ä¸­éƒ¨ç½² Gitlab</a></p>
    <h3 id="rancher"><a class="anchor" aria-hidden="true" tabindex="-1" href="#rancher"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Rancher</code></h3>
    <p><a href="rancher.html">åœ¨ docker ä¸­éƒ¨ç½² Rancher</a></p>
    <h3 id="humpback"><a class="anchor" aria-hidden="true" tabindex="-1" href="#humpback"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Humpback</code></h3>
    <p>é¦–å…ˆåˆ›å»ºæ”¾æŒä¹…åŒ–æ•°æ®æ–‡ä»¶å¤¹ï¼Œ<code>mkdir -p /opt/app/humpback-web</code>ï¼Œé‡Œé¢å­˜æ”¾æŒä¹…åŒ–æ•°æ®æ–‡ä»¶ï¼Œä¼šå­˜å‚¨ç«™ç‚¹ç®¡ç†å’Œåˆ†ç»„ä¿¡æ¯ï¼Œå¯åŠ¨åè¯·å¦¥å–„ä¿å­˜ã€‚</p>
    <pre class="language-bash"><code class="language-bash"><span class="token comment"># åˆ›å»ºæ”¾æŒä¹…åŒ–æ•°æ®æ–‡ä»¶å¤¹</span>
<span class="token function">mkdir</span> -p /opt/app/humpback-web
<span class="token comment"># ä¸‹è½½humpback-webé•œåƒåˆ°æœ¬åœ°</span>
docker pull humpbacks/humpback-web:1.0.0
<span class="token comment"># å¯åŠ¨ humpback-web å®¹å™¨ï¼Œå°†å®¹å™¨å‘½åä¸º humpback-web</span>
docker run -d --net<span class="token operator">=</span>host --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
 -e <span class="token assign-left variable">HUMPBACK_LISTEN_PORT</span><span class="token operator">=</span><span class="token number">7001</span> <span class="token punctuation">\</span>
 -v /opt/app/humpback-web/dbFiles:/humpback-web/dbFiles <span class="token punctuation">\</span>
 --name humpback-web <span class="token punctuation">\</span>
 humpbacks/humpback-web:1.0.0
</code></pre>
    <p>è®¿é—®ç«™ç‚¹ï¼Œæ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼š<a href="http://192.168.99.100:7001/">http://192.168.99.100:7001</a> ï¼Œé»˜è®¤è´¦æˆ·ï¼š<code>admin</code> å¯†ç ï¼š<code>123456</code></p>
    <h3 id="seafile"><a class="anchor" aria-hidden="true" tabindex="-1" href="#seafile"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Seafile</code></h3>
    <pre><code>docker run -d --name seafile \
  -e SEAFILE_SERVER_HOSTNAME=seafile.example.com \
  -v /opt/seafile-data:/shared \
  -p 80:80 \
  seafileltd/seafile:latest
</code></pre>
    <pre><code>docker run -d --name seafile \
  -e SEAFILE_SERVER_HOSTNAME=pan.showgold.com \
  -e SEAFILE_ADMIN_EMAIL=wcj@nihaosi.com \
  -e SEAFILE_ADMIN_PASSWORD=wcj@nihaosi.com \
  -v $HOME/_docker/seafile-data:/shared \
  -p 80:80 \
  seafileltd/seafile:latest
</code></pre>
    <h3 id="æ›´å¤š"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ›´å¤š"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>æ›´å¤š</h3>
    <p><a href="docker/">æ›´å¤š docker å·¥å…·éƒ¨ç½²ï¼Œåœ¨ docker ç›®å½•ä¸­</a></p>
    <h2 id="å¸è½½æ—§çš„ç‰ˆæœ¬"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å¸è½½æ—§çš„ç‰ˆæœ¬"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>å¸è½½æ—§çš„ç‰ˆæœ¬</h2>
    <p>ç§»é™¤æ—§çš„ç‰ˆæœ¬</p>
    <pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> yum remove docker <span class="token punctuation">\</span>
  docker-client <span class="token punctuation">\</span>
  docker-client-latest <span class="token punctuation">\</span>
  docker-common <span class="token punctuation">\</span>
  docker-latest <span class="token punctuation">\</span>
  docker-latest-logrotate <span class="token punctuation">\</span>
  docker-logrotate <span class="token punctuation">\</span>
  docker-selinux <span class="token punctuation">\</span>
  docker-engine-selinux <span class="token punctuation">\</span>
  docker-engine
</code></pre>
    <h2 id="é”™è¯¯å¤„ç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é”™è¯¯å¤„ç†"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>é”™è¯¯å¤„ç†</h2>
    <p>Create more free space in thin pool or use dm.min_free_space option to change behavior</p>
    <blockquote>
      <p>ç‰¹åˆ«æ…ç”¨ï¼Œä¸œè¥¿éƒ½æ²¡æœ‰äº†ï¼Œæ³¨æ„å¤‡ä»½å“¦ã€‚<a href="https://github.com/moby/moby/issues/3182#issuecomment-256532928">https://github.com/moby/moby/issues/3182#issuecomment-256532928</a></p>
    </blockquote>
    <p><strong>é•œåƒæ‹‰ä¸ä¸‹æ¥</strong></p>
    <p>ä¿®æ”¹ Docker <code>daemon.json</code> é…ç½® macOS: <code>/etc/docker/daemon.json</code>ï¼ŒLinux: <code>~/.docker/daemon.json</code></p>
    <pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">"registry-mirrors"</span><span class="token operator">:</span><span class="token punctuation">[</span>
     <span class="token string">"https://docker.mirrors.ustc.edu.cn"</span><span class="token punctuation">,</span>
     <span class="token string">"https://hub-mirror.c.163.com"</span><span class="token punctuation">,</span>
     <span class="token string">"https://mirror.baidubce.com"</span><span class="token punctuation">,</span>
     <span class="token string">"https://registry.docker-cn.com"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"insecure-registries"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
     <span class="token string">"192.168.188.111:2021"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2 id="å‚è€ƒèµ„æ–™"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å‚è€ƒèµ„æ–™"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>å‚è€ƒèµ„æ–™</h2>
    <h3 id="å®˜æ–¹è‹±æ–‡èµ„æº"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å®˜æ–¹è‹±æ–‡èµ„æº"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>å®˜æ–¹è‹±æ–‡èµ„æº</h3>
    <ul>
      <li>Dockerå®˜ç½‘ï¼š<a href="http://www.docker.com/">http://www.docker.com</a></li>
      <li>Docker windowså…¥é—¨ï¼š<a href="https://docs.docker.com/windows/">https://docs.docker.com/windows/</a></li>
      <li>Docker Linux å…¥é—¨ï¼š<a href="https://docs.docker.com/linux/">https://docs.docker.com/linux/</a></li>
      <li>Docker mac å…¥é—¨ï¼š<a href="https://docs.docker.com/mac/">https://docs.docker.com/mac/</a></li>
      <li>Docker ç”¨æˆ·æŒ‡å¼•ï¼š<a href="https://docs.docker.com/engine/userguide/">https://docs.docker.com/engine/userguide/</a></li>
      <li>Docker å®˜æ–¹åšå®¢ï¼š<a href="http://blog.docker.com/">http://blog.docker.com/</a></li>
      <li>Docker Hub: <a href="https://hub.docker.com/">https://hub.docker.com/</a></li>
      <li>Dockerå¼€æºï¼š <a href="https://www.docker.com/open-source">https://www.docker.com/open-source</a></li>
    </ul>
    <h3 id="ä¸­æ–‡èµ„æº"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ä¸­æ–‡èµ„æº"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>ä¸­æ–‡èµ„æº</h3>
    <ul>
      <li>Dockerä¸­æ–‡ç½‘ç«™ï¼š<a href="http://www.docker.org.cn/">http://www.docker.org.cn</a></li>
      <li>Dockerä¸­æ–‡æ–‡æ¡£ï¼š<a href="http://www.dockerinfo.net/document">http://www.dockerinfo.net/document</a></li>
      <li>Dockerå®‰è£…æ‰‹å†Œï¼š<a href="http://www.docker.org.cn/book/install.html">http://www.docker.org.cn/book/install.html</a></li>
      <li>ä¸€å°æ—¶Dockeræ•™ç¨‹ ï¼š<a href="https://blog.csphere.cn/archives/22">https://blog.csphere.cn/archives/22</a></li>
      <li>Dockerä¸­æ–‡æŒ‡å—ï¼š<a href="http://www.widuu.com/chinese_docker/index.html">http://www.widuu.com/chinese_docker/index.html</a></li>
    </ul>
    <h3 id="å…¶å®ƒèµ„æº"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å…¶å®ƒèµ„æº"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>å…¶å®ƒèµ„æº</h3>
    <ul>
      <li><a href="https://github.com/eon01/DockerCheatSheet">Docker å¿«é€Ÿæ‰‹å†Œï¼</a></li>
      <li><a href="http://www.runoob.com/docker/docker-tutorial.html">Docker æ•™ç¨‹</a></li>
      <li><a href="https://www.gitbook.com/book/yeasy/docker_practice">Docker ä»å…¥é—¨åˆ°å®è·µ</a></li>
      <li><a href="http://blog.csdn.net/zhangchao19890805/article/details/52756865">MySQL Docker å•ä¸€æœºå™¨ä¸Šå¦‚ä½•é…ç½®è‡ªåŠ¨å¤‡ä»½</a></li>
      <li><a href="http://dockone.io/article/834">ä½¿ç”¨Docker Composeç®¡ç†å¤šä¸ªå®¹å™¨</a></li>
      <li><a href="https://segmentfault.com/t/docker">https://segmentfault.com/t/docker</a></li>
      <li><a href="https://github.com/docker/docker">https://github.com/docker/docker</a></li>
      <li><a href="https://wiki.openstack.org/wiki/Docker">https://wiki.openstack.org/wiki/Docker</a></li>
      <li><a href="https://wiki.archlinux.org/index.php/Docker">https://wiki.archlinux.org/index.php/Docker</a></li>
    </ul>
  </div></body>
</html>
